% %% TO DO %%%

\documentclass[12pt]{article}

\usepackage{ishn}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{patterns}
\usetikzlibrary{patterns.meta}
\DeclareMathOperator{\hash}{\sharp}% connected sum
\usepackage{caption}
\usepackage{subcaption}

\makeindex[intoc]

\begin{document}

\tikzset{middlearrow/.style={
        decoration={markings,
            mark= at position 0.5 with {\arrow{#1}} ,
        },
        postaction={decorate}
    }
}

\hypersetup{pageanchor=false}
\begin{titlepage}
	\begin{center}
		\vspace*{1em}
		\Huge
		\textbf{IB Geometry}

		\vspace{1em}
		\large
		Ishan Nath, Lent 2023

		\vspace{1.5em}

		\Large

		Based on Lectures by Prof. Gabriel Paternain

		\vspace{1em}

		\large
		\today
	\end{center}
	
\end{titlepage}
\hypersetup{pageanchor=true}

\tableofcontents

\newpage

\section{Surfaces}
\label{sec:surfaces}

\begin{definition}
	A \emph{topological surface}\index{topological surface} is a topological space $\Sigma$ such that
	\begin{enumerate}[(a)]
		\item for all $p \in \Sigma$, there is an open neighbourhood $p \in U \subset \Sigma$ such that $U$ is homeomorphic to $\mathbb{R}^2$, or a disc $D^2 \subset \mathbb{R}^2$, with its usual Euclidean topology.
		\item $\Sigma$ is Hausdorff and second countable.
	\end{enumerate}
\end{definition}

\begin{remark}
	\begin{enumerate}
		$\mathbb{R}^2 \simeq D(0,1) = \{x \in \mathbb{R}^2 \mid \|x\| \leq 1\}$.
		\item A space $X$ is \emph{Hausdorff}\index{Hausdorff} if for $p \neq q$ in $X$, there exist disjoint open sets $U, V$ with $p \in U, q \in V$.

			A space is \emph{second countable}\index{second countable} if it has a countable base, i.e there exist open sets $\{U_i\}_{i \in \mathbb{N}}$, such that every open set is a union of some of the $U_i$.

			The key point of defining surfaces is point (a), point (b) is for ruling out surfaces that are too weird.
		\item If $X$ is Hausdorff or second countable, then so are subspaces of $X$. Moreover Euclidean space has these properties (to show it is second countable, consider open balls $B(c, r)$ with $c \in \mathbb{Q}^{n} \subset \mathbb{R}^{n}$, and $r \in \mathbb{Q}_{+} \subset \mathbb{R}_{+}$).
	\end{enumerate}
\end{remark}

\begin{exbox}
	\begin{enumerate}[(i)]
		\item The plane $\mathbb{R}^2$.
		\item Any open set in $\mathbb{R}^2$ is a surface, i.e. $R^2 \setminus Z$ where $Z$ is closed is a surface.
		\item Graphs of functions. Suppose $f : \mathbb{R}^2 \to \mathbb{R}$ is continuous. Then the graph of $f$ is
			\[
				\Gamma_f = \{(x, y, f(x, y)) \mid (x, y) \in \mathbb{R}^2\}
			.\]
			This is a subspace of $\mathbb{R}^3$, so we can endow it with the subspace topology. We claim it is a subspace homeomorphic to $\mathbb{R}^2$.
	\end{enumerate}
	Recall that if $X, Y$ are topological spaces, then the product topology $X \times Y$ has a basis of open sets $U \times V$, where $U \subset X$, $V \subset Y$ are open

	A feature is that if $g : Z \to X \times Y$ is continuous if and only if $\Pi_x \circ g : Z \to X$ and $\Pi_y \circ g : Z \to Y$ are continuous, where $\Pi_x$, $\Pi_y$ are the canonical projectors.
	\begin{enumerate}[resume*]
		\item[]We can now show that if $f : X \to Y$ is continuous, then $\Gamma_f \subset X \times Y$ is homeomorphic to $X$, as $s(x) = (x,f(x))$ is a continuous function from $X$ to $\Gamma_f$, $\Pi_x|_{\Gamma_f}$ and $s$ are inverse homeomorphisms.

		In particular, for our example $\Gamma_f \simeq \mathbb{R}^2$. So any $f : \mathbb{R}^2 \to \mathbb{R}$ continuous produces a surface $\Gamma_f$.
	\item The sphere: $S^2 = \{(x, y, z) \in \mathbb{R}^3 \mid x^2 + y^2 + z^2 = 1\}$ (with the subspace topology). To show this is a surface, we can consider the stereographic projection $\Pi_{+}: S^2 \setminus\{(0,0,1)\} \to \mathbb{R}^2$:
			\[
				(x, y, z) \mapsto \biggl( \frac{x}{1-z}, \frac{y}{1-z} \biggr)
			.\]
	Then $\Pi_{+}$ is continuous and has an inverse
	\[
		(u, v) \mapsto \biggl( \frac{2u}{u^2 + v^2 + 1}, \frac{2v}{u^2 + v^2 + 1}, \frac{u^2 + v^2 - 1}{u^2 + v^2 + 1} \biggr)
	.\]
	So $\Pi_{+}$ is a continuous bijection with continuous inverse, and hence a homeomorphism.

	Similarly, taking a stereographic projection from the south pole $\Pi_{-} : S^2 \setminus \{(0, 0, -1)\} \to \mathbb{R}^2$, by
	\[
		(x, y, z) \mapsto \biggl( \frac{x}{1+z}, \frac{y}{1+z} \biggr)
	\]
	is another homeomorphism. Hence $S^2$ is a topological surface, as the open sets $S^2 \setminus \{(0, 0, 1)\}$ and $S^2 \setminus \{(0, 0, -1)\}$ cover $S^2$, and it is Hausdorff and second countable as it is a subspace of $\mathbb{R}^3$.
\item The \emph{real projective plane}\index{real projective plane}. The group $\mathbb{Z}_2$ acts on $S^{2}$ by homeomorphisms, via the antipodal map
	\begin{align*}
		a : S^2 &\to S^2 \\
		a(x, y, z) &\mapsto (-x, -y, -z)
	\end{align*}
	\end{enumerate}
\end{exbox}
\begin{definition}
	The real projective plane is the quotient of $S^2$ by identifying every point with its antipodal image:
	\[
	\mathbb{RP}^2 = S^2/\mathbb{Z}_2 = S^2/\sim
	.\]
\end{definition}

\begin{lemma}
	As a set, $\mathbb{RP}^2$ is naturally in bijection with the set of straight lines through $0$.
\end{lemma}

This is because any straight line through $0 \in \mathbb{R}^3$ intersects $S^2$ in exactly a pair of antipodal points, and each such pair determines a straight line.

\begin{lemma}
	$\mathbb{RP}^2$ is a topological surface with the quotient topology.
\end{lemma}

Recall the quotient topology: given the quotient map $q : X \to Y$, we say $V \subset Y$ is open if and only if $q^{-1}(V) \subset X$ is open in $X$.

\begin{proofbox}
	First we show that $\mathbb{RP}^2$ is Hausdorff. If $[p] \neq [q] \in \mathbb{RP}^2$, then $\pm p$, $\pm q$ are distinct, antipodal pairs.

	We take open discs centred on $p$ and $q$ and their antipodal images, such that no two discs intersect. The images of these discs give open images of $[p]$ and $[q]$ in $\mathbb{RP}^2$. Indeed, $q(B_{\delta}(p))$ is open since $q^{-1}(q(B_{\delta}(p))) = B_{\delta}(p) \cup (-B_{\delta}(p))$.

	Now we show $\mathbb{RP}^2$ is second countable. Let $U$ be a countable base of $S^2$, and let $\overline{U} = \{q(u) \mid u \in U\}$. Then $q(u)$ is open, as $q(u) = u \cup (-u)$, and $\overline{U}$ is clearly countable as $U$ is.

	Take $V \subset \mathbb{RP}^2$ open. By definition, $q^{-1}(V)$ is open, so let $q^{-1}(V) = \bigcup U_{\alpha}$, for $U_{\alpha} \in U$. Then
	\[
	V = q(q^{-1}(V)) = q\biggl( \bigcup_{\alpha} U_{\alpha}\biggr) = \bigcup_{\alpha}q(U_{\alpha})
	.\]

	Finally, let $p \in S^2$ and $[p] \in \mathbb{RP}^2$ be its image. Let $\overline{D}$ be a small closed disc neighbourhood of $p \in S^2$, so that $q|_{\overline{D}}$ is injective and continuous, and has image a Hausdorff space.

	Now recall that a countinuous bijection from a compact space to a Hausdorff space is a homeomorphism.

	So $q|_{\overline{D}} : \overline{D} \to q(\overline{D)}$ is a homeomorphism. This induces a homeomorphism
	\[
	q|_D : D \to q(D) \subset \mathbb{RP}^2
	,\]
	where $D$ is an open disc contained in $\overline{D}$. So $[p] \in q(D)$ has an open neighbourhood in $\mathbb{RP}^2$ homeomorphic to an open disc.
\end{proofbox}

\begin{exbox}
	We continue looking at examples of surfaces.
	\begin{enumerate}[(i)]
		\setcounter{enumi}{5}
		\item Let $S^{1}=  \{z \in \mathbb{C} \mid |z| = 1\}$. Then the \emph{torus}\index{torus} is $S^{1} \times S^{1}$ with the subspace topology of $\mathbb{C}^2$ (this is the same as taking the product topology).
	\end{enumerate}
\end{exbox}

\begin{lemma}
	The torus is a topological surface.
\end{lemma}

\begin{proofbox}
	We consider the map
	\begin{align*}
		\mathbb{R}^2 &\overset{e}{\to} S^{1} \times S^{1} \subset \mathbb{C} \times \mathbb{C} \\
		(s, t) & \mapsto (e^{2\pi i s}, e^{2 \pi i t}).
	\end{align*}
	We can view this map using the following diagram:
	\begin{center}
		\begin{tikzcd}[column sep = small]
		\mathbb{R}^2 \arrow[r, "e"] \arrow[d,"q"] & S^{1} \times S^{1} \\
		\mathbb{R}^2/\mathbb{Z}^2 \arrow[ru, "{\hat e}", dashed] &
	\end{tikzcd}
	\end{center}
	There is an equivalence relation on $\mathbb{R}^2$ given by translating by $\mathbb{Z}^2$. Now consider the map
	\[
		[0,1]^2 \injto \mathbb{R}^2 \overset{q}{\to} \mathbb{R}^2/\mathbb{Z}^2
	\]
	is onto, so $\mathbb{R}^2/\mathbb{Z}^2$ is compact. Now note that $\hat e$ is a continuous bijection, so since it is onto a Hausdorff space, it is a homeomorphism.

	Similar to $\mathbb{RP}^2$, for $[p] \in q(p)$, take a small closed disc $\overline{D} \subset \mathbb{R}^2$ such that, for all $(m, n) \in \mathbb{Z}^2$, $\overline{D} \cap (\overline{D} + (m, n)) = \emptyset$.

	Then $e|_{\overline{D}}$ and $q|_{\overline{D}}$ are injective. Now restricting to an open disc as before, we get an open disc as a neighbourhood of $[p]$, so $S^{1} \times S^{1}$ is a topological surface.
\end{proofbox}

Another viewpoint for a torus is by imposing on $[0,1]^2$ the equivalence relations
\begin{align*}
	(x, 0) &\sim (x, 1), & (0, y) &\sim (1, y).
\end{align*}

\begin{figure}[h]
	\centering
	\caption{Identification of a Torus}
	\label{fig:torus}
	\begin{tikzpicture}
		\draw[middlearrow={<}] (45:3) -- (135:3); 
		\draw[middlearrow={<<}] (135:3) -- (225:3);
		\draw[middlearrow={>}] (225:3) -- (315:3);
		\draw[middlearrow={>>}] (315:3) -- (45:3);
	\end{tikzpicture}
\end{figure}

\begin{exbox}
	We look at yet another example of a surface.
	\begin{enumerate}[(i)]
		\setcounter{enumi}{6}
		\item Let $P$ be a planar Euclidean polyon. Assume that the edges are oriented and paired, and for simplicity assume the Euclidean lengths of $e$ and $\hat e$ are equal if $\{e, \hat e\}$ are paired.

			Label by letters, and describe the orientation by a sign of $\pm$ relative to the clockwise orientation in $\mathbb{R}^2$.

			More precisely, if $\{e, \hat e\}$ are paired edges, there is a unique isometry from $e$ to $\hat e$ respecting their orientations, say
			\[
			f_{e \hat e} : e \to \hat e
			.\]
			These maps generate an equivalence relation on $P$, where we identify $x \in \partial P$ with $f_{e \hat e}(x)$ whenever $x \in e$.
	\end{enumerate}
\end{exbox}

\begin{lemma}
	$P/\sim$ (with the quotient topology) is a topological surface.
\end{lemma}

\begin{figure}[h]
	\centering
	\caption{Orientation of Edges of a Hexagon}
	\label{fig:hexagon}
	\begin{tikzpicture}
		\draw[middlearrow={<}] (0:3) -- (60:3); 
		\draw[middlearrow={<<}] (60:3) -- (120:3);
		\draw[middlearrow={>>>}] (120:3) -- (180:3);
		\draw[middlearrow={>>}] (180:3) -- (240:3);
		\draw[middlearrow={>>>}] (240:3) -- (300:3);
		\draw[middlearrow={>}] (300:3) -- (0:3);
	\end{tikzpicture}
\end{figure}


\begin{proofbox}
	We begin by looking at a special case of the torus $T^2$ as $[0,1]^2/\sim$. Then if $p$ is an interior point, we pick $\delta > 0$ small such that $\overline{B_{\delta}(p)}$ lies in the interior of the polygon $P$. Now we argue as before: the quotient map is injective on $\overline{B_{\delta}(p)}$ and is a homeomorphism on its interior.

	Now suppose $p$ is on an edge of $P$, but not a vertex. The idea is to take the two points in $q^{-1}(p)$, take half discs around them, and join them up to form a disc.

	Say $p = (0, y_0) \sim (1, y_0) = p'$. Take $\delta$ small enough so the half discs of radius $\delta$ do not meet the vertices and don't intersect. Let $U$ be the half disc around $p$ and $V$ the half disc around $p'$.

	Define a map as follows:
	\begin{align*}
		U : (x, y) &\overset{f_u}{\to} (x, y - y_0), \\
		V : (x, y) & \overset{f_v}{\to} (x - 1, y - y_0).
	\end{align*}
	We want to show these maps glue well together. To do this, we use the following fact:

	If $X = A \cup B$, $A$ and $B$ are closed, and $f : A \to Y$ and $g : B \to Y$ are continuous and $f|_{A \cap B} = g|_{A \cap B}$, then they define a continuous map on $X$.

	Now $f_u$ and $f_v$ are continuous on $U, V \subset [0,1]^2$, so they induce continuous maps on $q(U)$ and $q(V)$.

	In $T^2$, the intersection of the discs overlap on the paired edges, but our maps agree, so they are compatible with the equivalence relation. Hence $f_u$ and $f_v$ give a continuous map on an open image of $[p] \in T^2$ to $\mathbb{R}^2$. By the usual argument, we can show if $[p] \in T^2$ lies on an edge of $P$ it has a neighbourhood homeomorphic to a disc.

	Finally, we look at a vertex of $[0,1]^2$. In the image, there is really only one vertex. To find a homeomorphism to the open disc, we can take four quarter circles at each corner, and glue them appropriately.

	For a general polygon, it is a similar idea. Interior and edge points are done analogously to $T^2$. For vertices, it is a bit different. We have different equivalence classes of vertices caused by orienting the edges in different ways.

	If $v$ is a vertex of $P$ with $k$ vertices in its equivalence class, then we have $k$ sectors in $P$. Any sector can be identified with out favourite sector in $\mathbb{R}^2$, i.e. $(r, \theta) \in \mathbb{R}^2$ with $0 \leq r < \delta$ and $\theta \in [0, 2\pi/k]$. Gluing these together, we get an open disc as a neighbourhood of $v$.

	This works unless $k = 1$, in which case we have two paired edges coming into or out of a vertex in $P$. But this is homeomorphic to a cone, which is homeomorphic to a disc.

	These neighbourhoods of points in $P/\sim$ show that $P$ is locally homeomorphic to a disc, and we can easily check that $P/\sim$ is Hausdorff and second countable.
\end{proofbox}

\begin{exbox}
	One more example now.
	\begin{enumerate}[(i)]
		\setcounter{enumi}{7}
		\item We now consider connecting surfaces. Given topological surfaces $\Sigma_1$ and $\Sigma_2$, we can remove an open disc from each, and glue the resulting boundary circles.

			Explicitly, we take $\Sigma_1 \setminus D_1 \cup \Sigma_2 \setminus D_2$ as a disjoint union, and impose the quotient relation
			\[
			\theta \in \partial D_1 \sim \theta \in \partial D_2
			,\]
			where $\theta$ parametrizes $S^{1} = \partial D_i$.

			The result $\Sigma_1 \hash \Sigma_2$ is called the \emph{connected sum}\index{connected sum} of $\Sigma_1$ and $\Sigma_2$.

			In principle, this depends on the choices of discs, and it takes some effort to prove that it is well-defined.
	\end{enumerate}
\end{exbox}

\begin{lemma}
	The connected sum $\Sigma_1 \hash \Sigma_2$ is a topological surface.
\end{lemma}

We will not prove this lemma in this course.

\begin{figure}[h]
	\centering
	\caption{Octagon}
	\label{fig:octagon}
	\begin{tikzpicture}
		\draw[middlearrow={<<}] (22.5:3) -- (67.5:3); 
		\draw[middlearrow={<}] (67.5:3) -- (112.5:3);
		\draw[middlearrow={>>>>}] (112.5:3) -- (157.5:3);
		\draw[middlearrow={>>>}] (157.5:3) -- (202.5:3);
		\draw[middlearrow={<<<<}] (202.5:3) -- (247.5:3);
		\draw[middlearrow={<<<}] (247.5:3) -- (292.5:3);
		\draw[middlearrow={>>}] (292.5:3) -- (337.5:3);
		\draw[middlearrow={>}] (337.5:3) -- (22.5:3);
		\draw[blue,dashed] (112.5:3) -- (292.5:3);
	\end{tikzpicture}
\end{figure}

As another example the octagon is homeomorphic to a double torus: cutting along the blue line reveals two copies of a torus, which are joined together.

\begin{figure}[h]
	\centering
	\caption{Identification of $\mathbb{RP}^2$}
	\label{fig:square_rp2}
	\begin{subfigure}{.5\textwidth}
		\centering
	\begin{tikzpicture}
		\draw[middlearrow={<<}] (45:3) -- (135:3);
		\node[draw] at (45:3) {};
		\draw[middlearrow={<}] (135:3) -- (225:3);
		\draw[fill,red] (135:3) circle (0.1);
		\draw[middlearrow={<<}] (225:3) -- (315:3);
		\node[draw] at (225:3) {};
		\draw[middlearrow={<}] (315:3) -- (45:3);
		\draw[fill,red] (315:3) circle (0.1);
	\end{tikzpicture}
	\end{subfigure}%
	\begin{subfigure}{.5\textwidth}
		\centering
	\begin{tikzpicture}
		\draw[middlearrow={<}] (0:2.5) to[out=90,in=0] (90:2.5); 
		\draw[fill] (0:2.5) circle (0.075);
		\draw[middlearrow={<<}] (90:2.5) to[out=180,in=90] (180:2.5);
		\draw[fill] (90:2.5) circle (0.075);
		\draw[middlearrow={<}] (180:2.5) to[out=-90,in=180] (270:2.5);
		\draw[fill] (180:2.5) circle (0.075);
		\draw[middlearrow={<<}] (270:2.5) to[out=0,in=-90] (0:2.5);
		\draw[fill] (270:2.5) circle (0.075);
		\draw[red, dashed] (60:2.5) -- (240:2.5);
		\node[above right,red] at (60:2.5) {$\theta$};
		\node[below left,red] at (240:2.5) {$-\theta$};
	\end{tikzpicture}
	\end{subfigure}
\end{figure}

Similarly, we can find $\mathbb{RP}^2$ as the quotient of a square: this can be seem by morphing it into a circle with antipodes identified, which is then homeomorphic to $\mathbb{RP}^2$, seen by `squishing down' $\mathbb{RP}^2$ or projecting it onto a plane.

\begin{figure}[h]
	\centering
	\caption{Squishing down $\mathbb{RP}^2$}
	\label{fig:squish_rp2}
	\begin{subfigure}{.5\textwidth}
		\centering
	\begin{tikzpicture}
		\draw (0,0) circle (2.5);
		\draw (-2.5,0) arc(180:360:2.5 and 0.5);
		\draw[dashed] (2.5,0) arc(0:180:2.5 and 0.5);
		\draw[red, dashed] (60:2.5) -- (240:2.5);
		\node[above right,red] at (60:2.5) {$x$};
		\node[below left,red] at (240:2.5) {$-x$};
	\end{tikzpicture}
	\end{subfigure}%
	\begin{subfigure}{.5\textwidth}
		\centering
	\begin{tikzpicture}
		\draw (0:2.5) to[out=90,in=0] (90:2.5) to[out=180,in=90] (180:2.5);
		\draw (-2.5,0) arc(180:360:2.5 and 0.5);
		\draw[dashed] (2.5,0) arc(0:180:2.5 and 0.5);
		\draw[blue, dashed] (40:0.75) -- (220:0.75);
		\node[above right,blue] at (40:0.75) {$\theta$};
		\node[below left,blue] at (220:0.75) {$-\theta$};
	\end{tikzpicture}
	\end{subfigure}
\end{figure}

\subsection{Triangulation and Euler Characteristic}
\label{sub:triangulation_and_euler_characteristic}

\begin{definition}
	A \emph{subdivision}\index{subdivision} of a compact topological surface $\Sigma$ comprises of:
	\begin{enumerate}[(i)]
		\item a finite set $V$ of \emph{vertices}\index{vertex},
		\item a finite collection of edges $E = \{e_i : [0,1] \to \Sigma\}$ such that
			\begin{itemize}
				\item for all $i$, $e_i$ is a continuous injection on its interior and $e_i^{-1}(V) = \{0, 1\}$,
				\item $e_i$ and $e_j$ have disjoint images except perhaps at their endpoints in $V$.
			\end{itemize}
		\item We require that each connected component of
			\[
				\Sigma \setminus \Biggl( \bigcup_{i} e_i ([0,1]) \cup V \Biggr)
			\]
			is homeomorphic to an open disc, called a \emph{face}\index{face}.
	\end{enumerate}
	Hence the closure of a face $\overline{F} \setminus F$ has boundary lying in
	\[
		\bigcup_{i} e_i ([0,1]) \cup V
	.\]
	A subdivision is a \emph{triangulation}\index{triangulation} if every closed face (closure of a face) contains exactly three edges, and two closed faces are disjoint, meet in exactly one edge or just one vertex.
\end{definition}

\begin{exbox}
	A cube displays a subdivision of $S^2$, and a tetrahedron displays a triangulation of $S^2$.

	Moreover figure~\ref{fig:torus} displays a subdivision of $T^2$, with one vertex, two edges and one face.

	In figure~\ref{fig:torus_triangulation}, only the right triangulation is a valid triangulation: in the left figure, the two triangles share more than one edge.

	As well, figure~\ref{fig:s2_subdivision} is a degenerate subdivision of the sphere, with one vertex, no edges and one face.
\end{exbox}

\begin{figure}[h]
	\centering
	\caption{Triangulations of the Torus}
	\label{fig:torus_triangulation}
	\begin{subfigure}{0.5\textwidth}
		\centering
	\begin{tikzpicture}
		\draw[middlearrow={<}] (45:3) -- (135:3); 
		\draw[middlearrow={<<}] (135:3) -- (225:3);
		\draw[middlearrow={>}] (225:3) -- (315:3);
		\draw[middlearrow={>>}] (315:3) -- (45:3);
		\draw (45:3) -- (225:3);
	\end{tikzpicture}
	\caption{Invalid}
	\end{subfigure}%
	\begin{subfigure}{0.5\textwidth}
		\centering
	\begin{tikzpicture}
		\draw[middlearrow={<}] (45:3) -- (135:3); 
		\draw[middlearrow={<<}] (135:3) -- (225:3);
		\draw[middlearrow={>}] (225:3) -- (315:3);
		\draw[middlearrow={>>}] (315:3) -- (45:3);
		\draw (45:3) -- (225:3);
		\draw (2.12,0.7) -- (-2.12,0.7);
		\draw (2.12,-0.7) -- (-2.12,-0.7);
		\draw (0.7,2.12) -- (0.7,-2.12);
		\draw (-0.7,2.12) -- (-0.7,-2.12);
		\draw (-2.12,0.7) -- (-0.7,2.12);
		\draw (-2.12,-0.7) -- (0.7,2.12);
		\draw (-0.7,-2.12) -- (2.12, 0.7);
		\draw (0.7,-2.12) -- (2.12, -0.7);
	\end{tikzpicture}
	\caption{Valid}
	\end{subfigure}%
\end{figure}

\begin{figure}
	\centering
	\caption{Subdivision of $S^2$ }
	\label{fig:s2_subdivision}
	\begin{tikzpicture}
		\draw (0,0) circle (2.5);
		\draw (-2.5,0) arc(180:360:2.5 and 0.5);
		\draw[dashed] (2.5,0) arc(0:180:2.5 and 0.5);
		\draw[fill] (0,2.5) circle (0.1);
	\end{tikzpicture}
\end{figure}

\begin{definition}
	The \emph{Euler characteristic}\index{Euler characteristic} of a subdivision is
	\[
	|V| - |E| + |F|
	.\]
\end{definition}

\begin{theorem}
	\begin{enumerate}[\normalfont(i)]
		\item[]
		\item Every compact topological surface admits subdivisions and triangulations.
		\item The Euler characteristic, denoted $\chi(\Sigma)$, does not depend on the subdivision and defined a topological invariant of the surface.
	\end{enumerate}
\end{theorem}

\begin{remark}
	This is hard to prove, particularly (ii). There are cleaner approaches to this (seen in algebraic topology).
\end{remark}

\begin{exbox}
	\begin{enumerate}[1.]
		\item $\chi(S^2) = 2$.
		\item $\chi(T^2) = 0$.
		\item Let $\Sigma_1, \Sigma_2$ be compact topological spaces, and we form $\Sigma_1 \hash \Sigma_2$. We remove open discs $D_i \subset \Sigma_i$ which is a face of a triangulation in each surface. Hence,
			\[
			\chi(\Sigma_1 \hash \Sigma_2) = \chi(\Sigma_1) + \chi(\Sigma_2) - 2
			.\]
			In particular if $\Sigma_g$ is a surface with $g$ holes, i.e.
			\[
			\Sigma_g = \hash_{i = 1}^{g} T^2
			,\]
			then $\chi(\Sigma_g) = 2 - 2g$. $g$ is called the \emph{genus}\index{genus}.
	\end{enumerate}
\end{exbox}

\newpage

\section{Abstract Smooth Surfaces}
\label{sec:abstract_smooth_surfaces}

\begin{definition}
	A pair $(U, \varphi)$ where $U \subset \Sigma$ is open and $\varphi : U \to V \subset \mathbb{R}^2$ is called a \emph{chart}\index{chart}.

	The inverse $\sigma = \varphi^{-1} : V \to U \subset \Sigma$ is called a \emph{local parametrization}\index{local parametrization} of $\Sigma$.
\end{definition}

\begin{definition}
	A collection of charts
	\[
		\{ (U_i, \varphi_i)_{i \in I}\}
	\]
	such that
	\[
	\bigcup_{i \in I} U_i = \Sigma
	\]
	is called an \emph{atlas}\index{atlas} of $\Sigma$.
\end{definition}

\begin{exbox}
	\begin{enumerate}[1.]
	\item If $Z \subset \mathbb{R}^2$ is closed, then $\mathbb{R}^2 \setminus Z$ is a topological surface with an atlas with one chart: $(\mathbb{R}^2 \setminus Z, \varphi = \id)$.
	\item For $S^2$ we have an atlas with 2 charts: the two stereographic projections.
	\end{enumerate}
\end{exbox}

\begin{definition}
	Let $(U_i, \varphi_i)$ for $i = 1, 2$ be two charts containing $p \in \Sigma$. The map
	\[
	\varphi_2 \circ \varphi_1^{-1}|_{\varphi_1(U_1 \cap U_2)}
	\]
	is called the \emph{transition map}\index{transition map} between charts.
\end{definition}

Note that
\[
	\varphi_1(U_1 \cap U_2) \overset{\varphi_2 \circ \varphi_1^{-1}}{\to} \phi_2(U_1 \cap U_2)
\]
is a \emph{homeomorphism}.

\begin{figure}[h]
	\centering
	\caption{Transition Map on $S^2$}
	\label{fig:transition_map}
	\begin{tikzpicture}
		\draw (0,0) circle (2.5);
		\draw (-2.5,0) arc(180:360:2.5 and 0.5);
		\draw[dashed] (2.5,0) arc(0:180:2.5 and 0.5);
		\draw (-0.5,1.5) circle (0.5 and 0.3);
		\draw (-0.1,1.6) circle (0.2 and 0.5);
		\begin{scope}
			\clip (-0.5,1.5) circle (0.5 and 0.3);
			\draw[pattern = {north west lines}] (-0.1,1.6) circle (0.2 and 0.5);
		\end{scope}
		\draw [->] (-0.7, 1.1) -- (-2, -3);
		\draw [->] (0.15, 1.2) -- (1.8, -3);
		\draw (-2,-4.5) circle (1);
		\begin{scope}
			\clip (-2,-4.5) circle (1);
			\draw[pattern = {north west lines}] (-2,-5.5) rectangle +(3,3);
		\end{scope}
		\draw (2,-4.5) circle (1);
		\begin{scope}
			\clip (2,-4.5) circle (1);
			\draw[pattern = {north east lines}] (2,-5.5) rectangle +(-3,3);
		\end{scope}
		\draw[->] (-0.5, -4.5) -- (0.5, -4.5);
		\node[left] at (-0.85,1.8) {$U_1$};
		\node[right] at (0.1,2.1) {$U_2$};
		\node[right] at (-1.5,-1.5) {$\varphi_1$};
		\node[left] at (1.25,-1.5) {$\varphi_2$};
		\node[below] at (0,-4.5) {$\varphi_2 \circ \varphi_1^{-1}$};
	\end{tikzpicture}
\end{figure}

Recall if $V \subset \mathbb{R}^{n}$ and $V' \subset \mathbb{R}^{m}$ are open, a map $f : V \to V'$ is called \emph{smooth}\index{smooth} if it is infinitely differentiable, so it has continuous partial derivatives of all orders.

A homeomorphism $f : V \to V'$ is called a \emph{diffeomorphism}\index{diffeomorphism} if it is smooth and it has a smooth inverse.

\begin{definition}
	An \emph{abstract smooth surface}\index{abstract smooth surface} $\Sigma$ is a topological surface with an atlas of charts $\{U_i, \varphi_i)\}$ such that all transition maps are diffeomorphisms.
\end{definition}

\begin{exbox}
	\begin{enumerate}[1.]
		\item The atlas of two charts with stereographic projections gives $S^2$ the structure of an abstract smooth surface.
		\item The torus $T^2 = \mathbb{R}^2 / \mathbb{Z}^2$ is an abstract smooth surface. Recall that we obtained charts from (the inverses of) the projection restricted to small discs in $\mathbb{R}^2$. In particular, consider the atlas
			\[
				\{(e(D_{\eps}(x,y)), e^{-1} \text{ on its image})\}
			,\]
			where $\eps < 1/3$. Here the transition maps are translations, so $T^2$ inherits the structure of a smooth surface.
	\end{enumerate}
\end{exbox}

\begin{definition}
	Let $\Sigma$ be an abstract smooth surface and $f : \Sigma \to \mathbb{R}^{n}$ a map. We say that $f$ is \emph{smooth}\index{smooth map} at $p \in \Sigma$ if whenever $(U, \varphi)$ is a chart at $p$ belonging to the smooth atlas of $\Sigma$, then the map
	\[
	f \circ \varphi^{-1} : \varphi(U) \to \mathbb{R}^{n}
	\]
	is smooth at $\phi(p) \in \mathbb{R}^2$.
\end{definition}

Note if this holds for one chart at $p$, then it holds for all charts at $p$, as
\[
f \circ \varphi_1^{-1} = f \circ \varphi_2^{-1} \circ (\varphi_2 \circ \varphi_1^{-1})
,\]
and $(\varphi_2 \circ \varphi_1^{-1})$ is a diffeomorphism.

Related, if $\Sigma_1, \Sigma_2$ are abstract smooth surfaces, then a map $f : \Sigma_1 \to \Sigma_2$ is \emph{smooth} if it is smooth at the local charts: there are charts $(U, \varphi)$ at $p$ and $(V, \psi)$ at $f(p)$ with $f(U) \subset V$ such that $\psi \circ f \circ \varphi^{-1}$ is smooth at $\varphi(p)$.

Again, if $f$ is smooth at $p$, then the smoothness of the local representation of $f$ at $p$ will hold for all charts at $p$ and $f(p)$ in the given atlases.

\begin{definition}
	$\Sigma_1$ and $\Sigma_2$ are \emph{diffeomorphic}\index{diffeomorphic} if there exists $f : \Sigma_1 \to \Sigma_2$ that is smooth with smooth inverse.
\end{definition}

\begin{definition}
	If $Z \subset \mathbb{R}^{n}$ is an arbitrary subset, we say that $f : Z \to \mathbb{R}^{m}$ is smooth near $p \in Z$ if there exists open $B$ with $p \in B \subset \mathbb{R}^{n}$ and smooth $F : B \to \mathbb{R}^{m}$ such that
	\[
	F|_{B \cap Z} = f|_{B \cap Z}
	.\]
	So $f$ is locally the restriction of a smooth map defined on an open set.
\end{definition}

\begin{definition}
	If $X \subset \mathbb{R}^{n}$ and $Y \subset \mathbb{R}^{m}$ are subsets, we say that $X$ and $Y$ are \emph{diffeomorphic} if there exists $f : X \to Y$, smooth with smooth inverse.
\end{definition}

\begin{definition}
	A \emph{smooth surface}\index{smooth surface} in $\mathbb{R}^3$ is a subset $\Sigma \subset \mathbb{R}^3$ such that for all $p \in \Sigma$, there exists an open set $p \in U \subset \Sigma$ such that $U$ is diffeomorphic to an open set in $\mathbb{R}^2$.

	In other words, for all $p \in \Sigma$, there exists an open ball $B$ such that $p\in B \subset \mathbb{R}^3$ and $F : B \to V \subset \mathbb{R}^2$ smooth, with
	\[
	F|_{B \cap \Sigma} : B \cap \Sigma \to V
	\]
	a homeomorphism with inverse $V \to B \cap \Sigma$ smooth.
\end{definition}

Hence we have two notions of a smooth surface: one abstract, and one taking advantage of the ambient space $\mathbb{R}^3$.

\begin{theorem}\label{thm:smoothness}
	For a subset $\Sigma \subset \mathbb{R}^3$, the following are equivalent:
	\begin{enumerate}[\normalfont(a)]
		\item $\Sigma$ is a smooth surface in $\mathbb{R}^3$.
		\item $\Sigma$ is locally the graph of a smooth function over one of the coordinate planes, so for all $p \in \Sigma$, there exists open $p \in B \subset \mathbb{R}^3$ and open $V \subset \mathbb{R}^2$ such that
			\[
				\Sigma \cap B = \{(x, y, g(x, y) \mid g : V \to \mathbb{R}\}
			,\]
			with $g$ smooth.
		\item $\Sigma$ is locally cut out by a smooth function with non-zero derivative, so for all $p \in \Sigma$, there open exists $p \in B \subset \mathbb{R}^{n}$ and $f : B \to \mathbb{R}$ such that
			\[
			\Sigma \cap B = f^{-1}(0), \qquad Df|_x \neq 0,
			\]
			for all $x \in B$.
		\item $\Sigma$ is locally the image of an \emph{allowable parametrization}, so if $p \in \Sigma$, there exists open $p \in U \subset \Sigma$ and smooth $\sigma : V \to U$, such that $\sigma$ is a homeomorphism and $D\sigma|_x$ has rank $2$ for all $x \in V$.
	\end{enumerate}
\end{theorem}

\begin{remark}
	(b) says that if $\Sigma$ is a smooth surface in $\mathbb{R}^3$, then each $p \in \Sigma$ belongs to a chart $(U, \varphi)$ where $\varphi$ is the restriction of $\pi_{xy}, \pi_{yz}, \pi_{xz}$ from $\mathbb{R}^3$ to $\mathbb{R}^2$.
\end{remark}

\subsection{Inverse Function Theorem}
\label{sub:inverse_function_theorem}

\begin{theorem}\index{inverse function theorem}
	Let $U \subset \mathbb{R}^{n}$ be open and let $f : U \to \mathbb{R}^{n}$ be a continuously differentiable map. Let $p \in U$, $f(p) = q$, and suppose $Df|_p$ is invertible. Then there is an open neighbourhood $V$ of $q$ and a differentiable map $g : V \to \mathbb{R}^{n}$ with $g(q) = p$, with image an open neighbourhood $U' \subset U$ of $p$, such that
	\[
	f \circ g = \id_V, \qquad g \circ f = \id_{u'}
	.\]
	If $f$ is smooth, then so is $g$.
\end{theorem}

\begin{remark}
	$(Dg|_q) = (Df|_p)^{-1}$ by the chain rule.
\end{remark}

If we have a map $f : \mathbb{R}^{n} \to \mathbb{R}^{m}$ where $n > m$, then
\[
Df|_p = \biggl( \frac{\partial f_i}{\partial x_j} \biggr)_{m \times n}
\]
having full rank means that, permuting coordinates if necessary, we can assume that the first $m$ columns are linearly independent.

\begin{theorem}[Implicit Function theorem]\index{implicit function theorem}
	Let $p = (x_0, y_0) \in U$, where $U \subset \mathbb{R}^{k} \times \mathbb{R}^{\ell}$ is open, and $f : U \to \mathbb{R}^{\ell}$ be a continuously differentiable map with $f(p) = 0$, and
	\[
		\biggl( \frac{\partial f_i}{\partial y_j} \biggr)_{\ell \times \ell} \text{ is an isomorphism at } p
	.\]
	Then there exists an open neighbourhood $x_0 \in V \subset \mathbb{R}^{k}$ and a continuously differentiable map $g : V \to \mathbb{R}^{\ell}$ taking $x_0$ to $y_0$, such that if $(x, y) \in U \cap (V \times \mathbb{R}^{\ell})$, then
	\[
	f(x, y) = 0 \iff y = g(x)
	.\]
\end{theorem}

\begin{proofbox}
	Introduce $F: U \to \mathbb{R}^{k} \times \mathbb{R}^{\ell}$, where $(x, y) \mapsto (x, f(x, y))$. Then
	\[
	DF =
	\begin{pmatrix}
		I & \ast \\
		0 & \frac{\partial f_i}{\partial y_j}
	\end{pmatrix}
	.\]
	So $DF|_{(x_0, y_0)}$ is an isomorphism. The inverse function says that $F$ is locally invertible near $F(x_0, y_0) = (x_0, f(x_0, y_0)) = (x_0, 0)$.

	Take a product of open neighbourhoods $(x_0,0) \in V \times V'$, where $V \subset \mathbb{R}^{k}$, $V' \subset \mathbb{R}^{\ell}$ are open. Then there is some continuously differentiable inverse $G : V \times V' \to U' \subset U$ such that $F \circ G = \id_{V \times V'}$ 

	Write $G(x, y) = (\varphi(x,y), \psi(x, y))$. Then,
	\[
	F \circ G(x, y) = (\varphi(x, y), f(\varphi(x, y), \psi(x,y))) = (x, y)
	.\]
	Hence $\varphi(x, y) = x$, $f(x, \psi(x, y)) = y$. Thus, $f(x, y) = 0 \iff y = \psi(x, 0)$.

	Define $g : V \to \mathbb{R}^{\ell}$ by $g(x) = \psi(x,0)$. Then $g(x_0) = y_0$, and this is the required function $g$.
\end{proofbox}

\begin{exbox}
	\begin{enumerate}[1.]
		\item Take $f : \mathbb{R}^2 \to \mathbb{R}$ smooth, and $f(x_0, y_0) = 0$. Assume
			\[
			\frac{\partial f}{\partial y} \biggr|_{(x_0, y_0)} \neq 0
			.\]
			Then there exists smooth $g : (x_0 - \eps, x_0 + \eps) \to \mathbb{R}$. Such that $g(x_0) = y_0$ and $f(x, y) = 0 \iff y = g(x)$.

			Since $f(x, g(x)) = 0$ by chain rule
			\[
			\frac{\partial f}{\partial x} + \frac{\partial f}{\partial y} g'(x) = 0 \implies g'(x) = - \frac{\partial f/\partial x}{\partial f/ \partial y}
			.\]
		\item Let $f : \mathbb{R}^3 \to \mathbb{R}$ smooth and $f(x_0, y_0, z_0) = 0$, and assume
			\[
			Df|_{(x_0, y_0, z_0)} \neq 0
			.\]
			Permuting coordinates if necessary, we may assume that
			\[
			\frac{\partial f}{\partial z}|_{(x_0, y_0, z_0)} \neq 0
			.\]
			Then there exists an open neighbourhood $(x_0, y_0) \in V \subset \mathbb{R}^2$ and a smooth $g : V \to \mathbb{R}$, with $g(x_0, y_0) = z_0$, such that for an open set $(x_0, y_0, z_0) \in U$,
			\[
				f^{-1}(0) \cap U = \{(x, y, g(x, y)) \mid (x, y) \in V\}
			.\]
	\end{enumerate}	
\end{exbox}

We return to theorem~\ref{thm:smoothness}, which we can now prove.

\begin{proofbox}
	Note (b) implies all other statements. If $\Sigma$ is locally $\{(x, y, g(x, y)) \mid (x, y) \in V\}$, then we get a chart from the projection $\Pi_{xy}$, which is smooth and defined on an open neighbourhood of $\Sigma$, hence (b) implies (a).

	Also, it is cut out by
	\[
	f(x, y, z) = z - g(x, y)
	.\]
	Clearly $\frac{\partial f}{\partial z} = 1 \neq 0$, so (b) implies (c).

	Also, $\sigma(x, y) = (x, y, g(x, y))$ is allowable and smooth, with
	\[
	\sigma_x = (1, 0, g_x), \qquad \sigma_y = (0, 1, g_y)
	\]
	linearly independent. So (b) implies (d).

	Now (a) implies (d), as this is part of the definition of being a smooth surface in $\mathbb{R}^3$.

	Moreover, (c) implies (b) from the above example of the implicit function theorem.

	We finally show that (d) implies (b). Let $p \in \Sigma$, and $\sigma : V \to U \subset \Sigma$ with $\sigma(0) = p \in U$, and $\sigma = (\sigma_1, \sigma_2, \sigma_3)$. Then
	\[
	D\sigma =
	\begin{pmatrix}
		\partial \sigma_1/\partial u & \partial \sigma_1/\partial v \\
		\partial \sigma_2/\partial u & \partial \sigma_2/\partial v \\
	\partial \sigma_3/\partial u & \partial \sigma_3/\partial v
	\end{pmatrix}
	.\]
	So there exists two rows defining an invertible matrix, as $D\sigma$ has rank two. Suppose the first two rows are. Then $\Pi_{xy} \circ \sigma : V \to \mathbb{R}^2$ satisfies $D(\Pi_{xy} \circ \sigma)|_0$ is an isomorphism.

	By the inverse function theorem, this is locally invertible, so if we let $\phi = \Pi_{xy} \circ \sigma$, then $\Sigma$ is the graph of $(x, y, \sigma_3(\phi^{-1}(x, y)))$.
\end{proofbox}

Using this, we can find many examples of smooth surfaces in $\mathbb{R}^3$.

\begin{exbox}
	\begin{enumerate}[1.]
		\item The \emph{ellipsoid}\index{ellipsoid} $E \subset \mathbb{R}^3$ is $f^{-1}(0)$ for $f : \mathbb{R}^3 \to \mathbb{R}$ satisfying
			\[
			f(x, y, z) = \frac{x^2}{a^2} + \frac{y^2}{b^2} + \frac{z^2}{c^2} - 1
			.\]
			For all $p \in E = f^{-1}(0)$, $Df|_p \neq 0$, so $E$ is a smooth surface in $\mathbb{R}^3$.
		\item Let $\gamma : [a, b] \to \mathbb{R}^3$ be a smooth map with image in the $xz$-plane, so
			\[
			\gamma(t) = (f(t), 0, g(t))
			.\]
			Assume $\gamma$ is injective, with $\gamma'(t) \neq 0$. Rotating this around the $z$-axis, we get a surface of revolution with allowable parametrization %to do: insert image
			\[
			\sigma(u, v) = (f(u) \cos v, f(u) \sin v, g(u))
			.\]
			For $(u, v) \in [a, b] \times [\theta, \theta + 2 \pi)$ for $\theta \in [0, 2\pi]$ fixed, $\sigma$ is a homeomorphism onto its image. Indeed,
			\begin{align*}
				\sigma_u &= (f' \cos v, f' \sin v, g'), \\
				\sigma_v &= (-f \sin v, f \cos v, 0).
			\end{align*}
			Moreover,
			\[
			\| \sigma_u \times \sigma_v \|^2 = f^2 (f'^2 + g'^2) \neq 0
			,\]
			proving $\sigma$ is allowable.
	\end{enumerate}
\end{exbox}

\subsection{Orientability}
\label{sub:orientability}

Consider $V, V' \subset \mathbb{R}^2$ open, with $f : V \to V'$ a diffeomorphism. Then at any $x \in V$,
\[
	Df|_x \in \GL(2,\mathbb{R})
.\]

Let $\GL^{+}(2, \mathbb{R}) \subset \GL(2, \mathbb{R})$ be the subgroup of matrices of positive determinant.

\begin{definition}
	We say that $f$ is \emph{orientation preserving}\index{orientation preserving} if $Df|_x \in \GL^{+}(2, \mathbb{R})$ for all $x \in V$.
\end{definition}

\begin{definition}
	An abstract smooth surface $\Sigma$ is \emph{orientable}\index{orientability} if it admits an atlas such that the transition maps are orientation preserving diffeomorphisms of open sets of $\mathbb{R}^2$.

	A choice of such atlas is an \emph{orientation} of $\Sigma$, and we say that $\Sigma$ is \emph{oriented}.
\end{definition}

\begin{lemma}
	If $\Sigma_1, \Sigma_2$ are abstract smooth surfaces, and they are diffeomorphic, then $\Sigma_1$ is orientable if and only if $\Sigma_2$ is orientable.
\end{lemma}

\begin{proofbox}
	Suppose $f : \Sigma_1 \to \Sigma_2$ is a diffeomorphism and $\Sigma_2$ is orientable and equipped with an oriented atlas.

	Consider the atlas on $\Sigma_1$ given by
	\[
		(f^{-1}U, \psi \circ f|_{f^{-1}U})
	,\]
	where $(U, \psi)$ is a chart of $\Sigma_2$. The transition function between two such charts is exactly the transition function in the $\Sigma_2$ atlas.

	The transition function between two such charts is exactly the transition function in the $\Sigma_2$-atlas.
\end{proofbox}

\begin{remark}
	\begin{enumerate}[1.]
		\item[]
		\item There is no sensible classification of all smooth or topological surfaces, for example $\mathbb{R}^2 \setminus Z$ for $Z$ closed.

			By contrast, compact smooth surfaces up to diffeomorphism are classified by Euler characteristic and orientability.
		\item There is a definition of orientation preserving homeomorphism that needs some algebraic topology.

			The M\"{o}bius band is the surface in figure~\ref{fig:mobius_band}. It turns out that abstract smooth surfaces are orientable if and only if it contains no subsurface homeomorphic to the M\"{o}bius band.

			So we can say that a topological surface is orientable if and only if it contains no subsurface homeomorphic to a M\"{o}bius band.
		\item We get other structures by demanding the transition maps to be such that
			\[
			D(\varphi_1 \varphi_2^{-1})|_x \in G \subset \GL(2,\mathbb{R})
			.\]
			For example, we can take $G = \GL(1, \mathbb{C}) \subset \GL(2, \mathbb{R})$, which give \emph{Riemann surfaces}\index{Riemann surfaces}.
	\end{enumerate}
\end{remark}

\begin{figure}[h]
	\centering
	\caption{M\"{o}bius band}
	\label{fig:mobius_band}
	\begin{tikzpicture}
		\draw[dashed] (45:3) -- (135:3); 
		\draw[middlearrow={<}] (135:3) -- (225:3);
		\draw[dashed] (225:3) -- (315:3);
		\draw[middlearrow={<}] (315:3) -- (45:3);
	\end{tikzpicture}
\end{figure}

\begin{exbox}
	\begin{enumerate}[1.]
		\item If we take $S^2$ with the atlas of the two stereographic projection, we can compute the transition map as
			\[
				(u, v) \mapsto \biggl( \frac{u}{u^2 + v^2}, \frac{v}{u^2 + v^2} \biggr)
			,\]
			on $\mathbb{R}^2 \setminus \{0\}$. This is orientation preserving.
		\item In $T^2$, the transition maps are translations of $\mathbb{R}^2$, so $T^2$ is oriented.
	\end{enumerate}
\end{exbox}

For surfaces in $\mathbb{R}^3$, we would like to have orientability dictated by some ambient feature.

\begin{definition}
	Let $\Sigma \subset \mathbb{R}^3$ be a smooth surface, and $p \in \Sigma$. Fix an allowable parametrization $\sigma : V \to U \subset \Sigma$, $\sigma(0) = p$.

	Then, the \emph{tangent plane}\index{tangent plane} $T_p \Sigma$ of $\Sigma$ at $p$ is the image of $D\sigma|_{0}$, as a subset of $\mathbb{R}^3$. This is a 2D vector subspace of $\mathbb{R}^3$.

	The \emph{affine tangent plane}\index{affine tangent plane} of $\Sigma$ at $p$ is $p + T_p \Sigma \subset \mathbb{R}^3$.
\end{definition}

\begin{lemma}
	$T_p \Sigma$ is well-defined, so it is independent of the choice of allowable parametrization near $p$.
\end{lemma}

\begin{proofbox}
	Let $\sigma : V \to U \subset \Sigma$, $\tilde \sigma : \tilde V \to \tilde U \subset E$, with $\sigma(0) = \tilde \sigma(0) = p$ be two parametrizations near $p$.

	Since $\sigma^{-1} \circ \tilde \sigma$ is a transition map,
	\[
	\tilde \sigma = \sigma \circ (\sigma^{-1} \circ \tilde \sigma)
	.\]
	As $D(\sigma^{-1} \circ \tilde \sigma)|_0$ is an isomorphism, we get $\img(D \tilde \sigma|_0) = \img(D \sigma|_0)$.
\end{proofbox}

\begin{definition}
	Let $\Sigma \subset \mathbb{R}^3$ be a smooth surface. The \emph{normal direction}\index{normal direction} at $p$ is $(T_p \Sigma)^{\perp}$.
\end{definition}

At each $p \in \Sigma$, we have two unit normal vectors.

\begin{definition}
	A smooth surface in $\mathbb{R}^3$ is \emph{two-sided}\index{two-sided} if it admits a continuous global choice of unit normal vectors.
\end{definition}

\begin{lemma}
	A smooth surface in $\mathbb{R}^3$ is orientable with its abstract smooth surface structure if and only if it is two-sided.
\end{lemma}

\begin{proofbox}
	Let $\sigma : V \to U \subset \Sigma$ be allowable, with $\sigma(0) = p$. Define the \emph{positive} unit normal with respect to $\sigma$ at $p$ as the unique $n_{\sigma}(p)$ such that
	\[
		\{\sigma_u, \sigma_v, n_{\sigma}(p)\}, \qquad \{e_1, e_2, e_3\}
	\]
	induce the same orientation in $\mathbb{R}^3$ (i.e. they are related by a change of basis matrix with positive determinant). Explicitly,
	\[
	n_{\sigma}(p) = \frac{\sigma_u \times \sigma_v}{\| \sigma_u \times \sigma_v \|}
	.\]
	Let $\tilde \sigma$ be another allowable parametrization at $p$, and suppose $\Sigma$ is orientable as an abstract smooth surface with $\sigma$ and $\tilde \sigma$ belonging to the same oriented atlas.

	Again, we can write $\sigma = \tilde \sigma \circ \varphi$, where $\varphi = \tilde \sigma^{-1} \circ \sigma$. Then
	\[
	D \varphi|_0 =
	\begin{pmatrix}
		\alpha & \beta \\
		\gamma & \delta
	\end{pmatrix}
	.\]
	By the chain rule, we have
	\begin{align*}
		\sigma_u &= \alpha \tilde \sigma_{\tilde u} + \gamma \tilde \sigma_{\tilde v}, \\
		\sigma_v &= \beta \tilde \sigma_{\tilde u} + \delta \tilde \sigma_{\tilde v}.
	\end{align*}
	Hence we get
	\[
	\sigma_u \times \sigma_v = \det (D\phi|_0) \tilde \sigma_{\tilde u} \times \tilde \sigma_{\tilde v}
	.\]
	So the positive unit normal at $p$ does not depend on the parametrization. Since $n_{\sigma}(p)$ is continuous, $\Sigma$ is two-sided.

	Conversely, if $\Sigma$ is two-sided, we have a global choice of $n$, so we can consider the subatlas of the smooth atlas such that we have charts $(U, \varphi)$, where $\varphi^{-1} = \sigma$ and $\{\sigma_u, \sigma_v, n\}$ is an oriented basis of $\mathbb{R}^3$.

	Then from the above formula, the transition maps between such charts are orientation preserving, so $\Sigma$ is orientable.
\end{proofbox}

\begin{remark}
	Give a curve $\gamma : (-\eps, \eps) \to \mathbb{R}^3$, smooth with image in $\Sigma$ and with $\gamma(0) = p$, we can write
	\[
	\gamma(t) = \sigma(u(t), v(t))
	.\]
	Differentiating,
	\[
	\sigma'(0) = D\sigma|_0 (u'(0), v'(0))
	.\]
	This is on the tangent plane. Hence
	\[
		T_p\Sigma = \{\gamma'(0) \mid \gamma \text{ smooth on } \Sigma\}
	.\]
\end{remark}

\begin{exbox}
	\begin{enumerate}
		\item Take $S^2 \subset \mathbb{R}^3$. Then the obvious unit normal at $p$ is $p$.

			To prove this, take any $\gamma : (-\eps, \eps) \to S^2$, with $\gamma(0) = p$. Since $|\gamma(t)|^2 = 1$, differentiating at $t = 0$,
			\[
			2 \langle \gamma'(0), p \rangle = 0 \implies (T_p S^2)^{\perp} = \mathbb{R} p
			.\]
			Therefore we can take $n(p) = p$, and this is continuous so $S^2$ is two-sided.
		\item The M\"{o}bius band is constructed as follows: start with the unit circle in the $xy$-plane, and take an open interval of length 1. Rotate this line in the $cz$-plane as we move around the circle, such that it has rotated by $\theta/2$ after moving an angle $\theta$.

			After a full turn, the segment returns to its original position but with the endpoints inverted. We can describe the surface with
			\[
			\sigma(t, \theta) = ((1 - t \sin \theta/2)\cos \theta, (1 - t \sin \theta/2) \sin \theta, t \cos \theta/2)
			,\]
			where $(t, \theta)$ belongs to
			\[
				V_1 = \{t \in (-1/2, 1/2), \theta \in (0, 2 \pi)]
			,\]
			or
			\[
				V)2 = \{t \in (-1/2, 1/2), \theta \in (-\pi, \pi)\}
			.\]
			We can check that if $\sigma_i$ is $\sigma$ on $V_i$, then $\sigma_i$ is allowable. A computation shows that
			\[
			\sigma_{t} \times \sigma_{\theta}(0, \theta) = (- \cos \theta \cos \theta/2, - \sin \theta \cos \theta/2, - \sin \theta/2)
			.\]
			As $\theta \to 0^{+}$, $n_{\theta} = (-1, 0, 0)$, but as $\theta \to 2\pi^{-}$, $n_{\theta} = (1, 0, 0)$. Hence the M\"{o}bius band is not two-sided.
	\end{enumerate}
\end{exbox}

\newpage

\section{Surfaces in 3-space}
\label{sec:surfaces_in_3_space}

Let $\gamma : (a, b) \to \mathbb{R}^3$ be smooth. The length of $\gamma$ is
\[
L(\gamma) = \int_{a}^{b} \|\gamma'(t)\| \diff t
.\]
If $s: (A, B) \to (a, b)$ is monotone increasing, and we let $\tau(t) = \gamma(s(t))$, then
\[
L(\tau) = \int_{A}^{B} \|\tau'(t)\| \diff t = \int_{A}^{B} \|\gamma'(s(t)) \| s'(t) \diff t = \int_{a}^{b} \|\gamma'(s)\| \diff s = L(\gamma)
.\]

\begin{lemma}
	If $\gamma : (a, b) \to \mathbb{R}^3$ and $\gamma'(t) \neq 0$ for all $t$, then $\gamma$ can be parametrized by arc-length, i.e. by a parameter $s$ such that $\|\gamma'(s)\| = 1$ for all $s$.
\end{lemma}

Let $\Sigma \subset \mathbb{R}^3$ be a smooth surface, and $\sigma : V \to U \subset \Sigma$ be allowable. If $\gamma : (a, b) \to U$ is smooth, write
\[
\gamma(t) = \sigma(u(t), v(t))
.\]
Then we have
\[
\gamma'(t) = \sigma_u u'(t) + \sigma_v v'(t)
.\]
Therefore,
\[
\|\gamma'(t)\|^2 = E(u'(t))^2 + 2F u'(t) v'(t) + G (v'(t))^2
.\]
Where
\begin{align*}
	E &= \langle \sigma_u, \sigma_u \rangle = \|\sigma_u \|^2, \\
	F &= \langle \sigma_u, \sigma_v \rangle = \langle \sigma_v, \sigma_u \rangle, \\
	G &= \langle \sigma_v, \sigma_v \rangle = \|\sigma_v \|^2.
\end{align*}
They are defined only on $\sigma$, and not $\gamma$.

\begin{definition}
	The \emph{first fundamental form}\index{first fundamental form} (FFF) in the parametrization $\sigma$ is the expression
	\[
	E \diff u^2 + 2F \diff u \diff v + G \diff v^2
	.\]
	This satisfies
	\[
		L(\gamma) = \int_{a}^{b} \sqrt{E u'^2 + 2F u'v' + Gv'^2} \diff t
	,\]
	where $\gamma(t) = \sigma(u(t), v(t))$.
\end{definition}

\begin{remark}
	The first fundamental form is sometimes defined as the quadratic form in $T_p \Sigma$, given by the restriction of the standard inner product in $\mathbb{R}^3$:
	\[
	I_p(w) = |w|^2 = \langle w, w \rangle_{\mathbb{R}^3}
	.\]
	After picking $\sigma$ with $\sigma(0) = p$ and after writing $w = D\sigma|_0 (u', v')$, we have
	\[
	I_p(w) = E u'^2 + 2 F u'v' + G v'^2
	.\]
	This is an example of a \emph{Riemannian metric}\index{Riemannian metric}.
\end{remark}

\begin{exbox}
	The $xy$-plane $\mathbb{R}^3$ is parametrized as $\sigma(u, v) = (u, v, 0)$, so $\sigma_u = (1, 0, 0)$, $\sigma_v = (0, 1, 0)$, and the first fundamental form is $\diff u^2 + \diff v^2$. Here $E = G = 1$, $F = 0$.

	In polar coordinates, $\sigma(r, \theta) = (r \cos \theta, r \sin \theta, 0)$. Then we have
	\begin{align*}
		\sigma_r &= (\cos \theta, \sin \theta, 0),\\
		\sigma_{\theta} &= (- r \sin \theta, r \cos \theta, 0).
	\end{align*}
	The first fundamental form is $\diff r^2 + r^2 \diff \theta^2$. Here $E = 1$, $F = 0$ and $G = r^2$.
\end{exbox}

\begin{definition}
	Let $\Sigma, \Sigma' \subset \mathbb{R}^3$ be smooth surfaces. We say that $\Sigma$ and $\Sigma'$ are \emph{isometric}\index{isometry} if there exists $f : \Sigma \to \Sigma'$ a diffeomorphism such that for every smooth curve $\gamma : (a, b) \to \Sigma$,
	\[
	L_{\Sigma}(\gamma) = L_{\Sigma'}(f \circ \gamma)
	.\]
\end{definition}

\begin{exbox}
	If $\Sigma' = f(\Sigma)$, where $f : \mathbb{R}^3 \to \mathbb{R}^3$ is a linear motion, i.e.
	\[
	f(x) = Ax + b
	\]
	where $A \in \mathsf{O}(3)$ and $b \in \mathbb{R}^3$, then $f : \Sigma \to \Sigma'$ is an isometry because
	\[
	|(f \circ \gamma)'(t)| = |A \gamma'(t)| = |\gamma'(t)|
	.\]
	Hence the lengths of curves are preserved.
\end{exbox}

Often we are interested in local statements.

\begin{definition}
	$\Sigma, \Sigma'$ are \emph{locally isometric}\index{locally isometric} near points $p \in \Sigma$ and $p' \in \Sigma'$, if there exist open neighbourhoods $p \in U \subset \Sigma$ and $p' \in U' \subset \Sigma'$, which are isometric.
\end{definition}

\begin{lemma}
	$\Sigma, \Sigma' \subset \mathbb{R}^3$ are locally isometric near $p \in \Sigma$ and $p' \in \Sigma'$ if and only if there exist allowable parametrizations
	\begin{align*}
		\sigma : V &\to U \subset E, \\
		\sigma' : V &\to U' \subset \Sigma',
	\end{align*}
	for which the first fundamental forms are equal in $V$.
\end{lemma}

\begin{proofbox}
	We know (by definition) that the first fundamental form of $\sigma$ determines the length of all curves on $\sigma(V) = U$.

	If we have $\sigma$ and $\sigma'$ as in the lemma, then $\sigma' \circ \sigma^{-1} : U \to U'$ is an isometry, since
	\begin{align*}
		\biggl| \frac{\diff}{\diff t}\sigma' \circ \sigma^{-1} \circ \gamma \biggr|^2 &= \biggl|\frac{\diff}{\diff t} \sigma'(u(t), v(t)) \biggr|^2 \\
											      &= E' \dot u^2 + 2F' \dot u \dot v + G' \dot v^2 \\
											      &= E\dot u^2 + 2 F \dot u \dot v + G \dot v^2 \\
											      &= \biggl| \frac{\diff}{\diff t} \gamma(t)\biggr|^2.
	\end{align*}
	Hence $L(\sigma' \circ \sigma^{-1} \circ \gamma) = L(\gamma)$.

	For the converse, we will show first that the lengths of curves in $U$ determine the first fundamental form of $\sigma$. Indeed, suppose
	\[
	\sigma : B(0, \delta) \to U
	,\]
	with $\sigma(0) = p$. Then take a curve $\gamma_\eps : [0, \eps] \to U$ with $t \mapsto \sigma(t, 0)$. Then,
	\[
		\frac{\diff}{\diff \eps}L(\gamma_\eps) = \frac{\diff}{\diff \eps} \int_{0}^{\eps} \sqrt{E(t, 0)} \diff t = \sqrt{E(\eps, 0)}
	.\]
	So the length of the curve determines $E(0,0)$. Similarly, $\chi_\eps : t \mapsto \sigma(0, t)$ determines $G(0,0)$ and $\lambda_\eps : t \mapsto \sigma(t,t)$ gives $\sqrt{(E+2F+G)(0,0)}$, so knowing $E$ and $G$, we get $F$.

	So if $f : U \to U'$ is a local isometry, take any allowable parametrization $\sigma' : V \to U'$. Then $\sigma = f^{-1} \circ \sigma'$ is such that the first fundamental forms of $\sigma$ and $\sigma'$ agree.
\end{proofbox}

\begin{exbox}
	Take a cone: with $u > 0$ and $v \in (0, 2\pi)$, we get
	\[
	\sigma(u, v) = (au \cos v, a u \sin v, u)
	.\]
	This parametrizes the complement of one line of the cone. The first fundamental form is $(1+a^2)\diff u^2 + a^2 u^2 \diff v^2$.

	Cutting open the cone and unfolding it, we get a plane sector of angle $\theta_0 = \frac{2\pi a}{\sqrt{1 + a^2}}$. Parametrize the plane sector by
	\[
		\sigma(r, \theta) = \biggl(\sqrt{1+a^2} r \cos \biggl( \frac{a \theta}{\sqrt{1+a^2}}\biggr), \sqrt{1+a^2} r \sin \biggl(\frac{a \theta}{\sqrt{1+a^2}} \biggr), 0 \biggr)
	.\]
	This holds for $r > 0$ and $\theta \in (0, 2\pi)$. We can check that the first fundamental form is $(1+a^2)\diff r^2 + r^2 a^2 \diff \theta^2$. So the cone is locally isometric to the plane.
\end{exbox}

\begin{lemma}
	Let $\sigma, \tilde \sigma$ be allowable parametrizations with transition map $f : \tilde \sigma^{-1} \circ \sigma$, with first fundamental forms
	\[
	\begin{pmatrix}
		E & F \\
		F & G
	\end{pmatrix}
	, \qquad
	\begin{pmatrix}
		\tilde E & \tilde F \\
		\tilde F & \tilde G
	\end{pmatrix}
	.\]
	Then these are related by
	\[
	\begin{pmatrix}
		E & F \\
		F & G
	\end{pmatrix}
	=
	(Df)^{T}
	\begin{pmatrix}
		\tilde E & \tilde F \\
		\tilde F & \tilde G
	\end{pmatrix}
	Df
	.\]
\end{lemma}

\begin{proofbox}
	We have
	\begin{align*}
		\begin{pmatrix}
			E & F \\
			F & G
		\end{pmatrix}
		&=
		\begin{pmatrix}
			\sigma_u \cdot \sigma_u & \sigma_u \cdot \sigma_v \\
			\sigma_v \cdot \sigma_u & \sigma_v \cdot \sigma_v
		\end{pmatrix}
		= (D \sigma)^{T} D \sigma.
	\end{align*}
	Since $\sigma = \tilde \sigma \circ f$, we have $D \sigma = D \tilde \sigma D f$, so this equals
	\[
		(D \tilde \sigma D f)^{T} (D \tilde \sigma D f) = (Df)^{T} (D \tilde \sigma)^{T} D \tilde \sigma D f
	.\]
\end{proofbox}

\subsection{Angles}
\label{sub:angles}

For two vectors $v, w\in \mathbb{R}^3$, we can define the angle between them as $\theta \in [0, \pi]$ satisfying $v \cdot w = |v||w| \cos \theta$.

Similarly, if $v, w \in T_p \Sigma$, we can define
\[
\cos \theta = \frac{v \cdot w}{|v||w|}
.\]
Here $w=  D\sigma|_0(w_0)$, $v = D\sigma|_0(v_0)$. We can therefore easily calculate
\[
v \cdot w = v_0^{T}
\begin{pmatrix}
	E & F \\
	F & G
\end{pmatrix}
w_0
.\]
So therefore, we can compute the angles using the first fundamental form of $\sigma$.

\begin{lemma}
	$\sigma$ is \emph{conformal}\index{conformal} (preserves angles) exactly when $E = G$, and $F = 0$.
\end{lemma}

\begin{proofbox}
	Consider curves $\alpha(t) = (u(t), v(t))$ in $V$, and $\tilde \alpha(t) = (\tilde u(t), \tilde v(t))$, satisfying $\alpha(0) = \tilde \alpha(0) \in V$.

	The curves $\sigma \circ \alpha$ and $\sigma \circ \tilde \alpha$ meet at $p$ with angle $\theta$, given by
	\[
		\cos \theta = \frac{E \dot u \dot{\tilde u} + F(\dot u \dot{\tilde v} + \dot{\tilde u}\dot v) + G \dot v \dot{\tilde v}}{(E \dot u^2 + 2 F \dot u \dot v + G \dot v^2)^{1/2}(E \dot{\tilde u}^2 + 2 F \dot{\tilde u} \dot{\tilde v} + G \dot{\tilde v}^2)^{1/2}}
	.\]
	If $\sigma$ is conformal at $\alpha(t) = (t, 0)$, $\tilde \alpha(t) = (0,t)$ meeting at angle $\pi/2$ in $V$ we get that
	\[
	0 = F
	.\]
	Similarly, using $\alpha(t) = (t, t)$ and $\tilde \alpha(t) = (t, -t)$, we get $E = G$.

	Conversely, if $\sigma$ is such that $E = G$ and $F = 0$, then with respect to $\sigma$, the first fundamental form is just
	\[
	\rho(\diff u^2 + \diff v^2)
	.\]
	Hence, we get
	\[
		\cos \theta = \frac{\dot u \dot{\tilde u} + \dot v \dot{\tilde v}}{(\dot u^2 + \dot v^2)^{1/2}(\dot{\tilde u}^2 + \dot{\tilde v}^2)^{1/2}}
	.\]
	This shows that angles do not change.
\end{proofbox}

\subsection{Areas}
\label{sub:areas}

Recall that the area of a parallelogram spanned by vectors $v$ and $w$ is
\[
|v \times w| = (|v|^2|w|^2 - (v \cdot w)^2)^{1/2}
.\]
Suppose we have $\sigma : V \to U$, with $\sigma(0) = p$, and consider $\sigma_u, \sigma_v \in T_p \Sigma$.

They span a parallelogram in $T_p \Sigma$ of area
\[
	(|\sigma_u|^2|\sigma_v|^2 - (\sigma_u \cdot \sigma_v)^2)^{1/2} = \sqrt{EG - F^2}
.\]
\begin{definition}
	We define the \emph{area}\index{area} of $U$ as
	\[
		\int_{V} \sqrt{EG - F^2} \diff u \diff v
	.\]
\end{definition}

To show this is independent of parametrization, suppose $\sigma : V \to U$ and $\tilde \sigma : \tilde V \to U$ are allowable parametrizations. Then if $\varphi = \sigma^{-1} \circ \tilde \sigma$ is a transition map, by our previous lemma,
\[
\begin{pmatrix}
	\tilde E & \tilde F \\
	\tilde F & \tilde G
\end{pmatrix}
 = (D \varphi)^{T}
 \begin{pmatrix}
	 E & F \\
	 F & G
 \end{pmatrix}
 D \varphi
.\]
Taking the determinants, we get
\[
	\sqrt{\tilde E \tilde G - \tilde F^2} = |\det (D \varphi)| \sqrt{EG - F^2}
.\]
Now the change of variables between $V$ and $\tilde V$ gives
\[
	\int_{\tilde V} \sqrt{\tilde E \tilde G - \tilde F^2} \diff \tilde u \diff \tilde v = \int_{V} \sqrt{EG - F^2} \diff u \diff v
.\]
This shows that the area of $U$ is intrinsic, and well-defined.

\begin{exbox}
	Consider the graph
	\[
		\Sigma = \{(u, v, f(u, v)) \mid (u, v) \subset \mathbb{R}^2\}
	\]
	with $f : \mathbb{R}^2 \to \mathbb{R}$ smooth, and with obvious parametrization $\sigma(u, v) = (u, v, f(u, v))$. Then $\sigma_u = (1, 0, f_u)$, $\sigma_v = (0, 1, f_v)$. This gives
	\[
	EG - F^2 = 1 + f_u^2 + f_v^2
	.\]
	Therefore, if $U_R \subset \Sigma$ is $\sigma(B(0,R))$, then
	\[
		\area(U_R) = \int_{B(0,R)} \sqrt{1 + f_u^2 + f_v^2} \diff u \diff v \geq \pi R^2
	,\]
	with equality only if $f_u = f_v = 0$, i.e. $f$ is constant.

	Hence the projection from $\Sigma$ to $\mathbb{R}^2_{xy}$ is not area preserving, unless $\Sigma$ is a plane parallel to $\mathbb{R}^2_{xy}$.
\end{exbox}

Contrast this to the theorem from Archimedes, which says the horizontal radius projection (with centre the $z$-axis) from $S^2$ to the cylinder is area-preserving.

\subsection{Second Fundamental Form}
\label{sub:second_fundamental_form}

Let's try to measure how much $\Sigma \subset \mathbb{R}^3$ deviates from its own tangent planes. Taking $\sigma : V \to U \subset \Sigma$ and using Taylor's theorem
\begin{align*}
	\sigma(u+h, v+l) &= \sigma(u, v) + h \sigma_u(u, v) + l \sigma_v(u, v)  \\
			 &\quad + \frac{1}{2} [ h^2 \sigma_{uu}(u,v) + 2hl \sigma_{uv}(u,v) + l^2\sigma_{vv}(u,v)] + \mathcal{O}(h^3, l^3),
\end{align*}
where $(h, l)$ are small enough so that $(u, v)$ and $(u+h, v+l) \in V$.

Taking a projection in the normal direction,
\[
	\langle n, \sigma(u+h,v+l)-\sigma(u,v)\rangle = \frac{1}{2}[\langle n, \sigma_{uu} \rangle h^2 + 2 \langle n, \sigma_{uv} \rangle hl + \langle n, \sigma_{vv} \rangle l^2] + \mathcal{O}(h^3, l^3)
.\]
\begin{definition}
	The \emph{second fundamental form}\index{second fundamental form} of $\Sigma \subset \mathbb{R}^3$ in the parametrization $\sigma$ is the quadratic form:
	\[
	L \diff u^2 + 2 M \diff u \diff v + N \diff v^2
	,\]
	where
	\begin{align*}
		L &= \langle n, \sigma_{uu}\rangle, \\
		M &= \langle n, \sigma_{uv} \rangle, \\
		N &= \langle n, \sigma_{vv} \rangle,
	\end{align*}
	and
	\[
		n = \frac{\sigma_u \times \sigma_v}{\| \sigma_u \times \sigma_v\|}
	.\]
\end{definition}

\begin{lemma}
	Let $V$ be connected and $\sigma : V \to U \subset \Sigma$ such that the second fundamental form vanishes identically. Then $U$ lies in an affine plane in $\mathbb{R}^3$.
\end{lemma}

\begin{proofbox}
	Recall that $\langle n, \sigma_u \rangle = \langle n, \sigma_v \rangle = 0$. Hence, differentiating,
	\begin{align*}
		\langle n_u, \sigma_u \rangle + \langle n, \sigma_{uu} \rangle &= 0, \\
		\langle n_v, \sigma_v \rangle + \langle n, \sigma_{vv} \rangle &= 0, \\
		\langle n_v, \sigma_u \rangle + \langle n, \sigma_{uv} \rangle &= 0.
	\end{align*}
	Hence we can alternatively write
	\begin{align*}
		L &= \langle n, \sigma_{uu} \rangle = - \langle n_u, \sigma_u \rangle, \\
		M &= \langle n, \sigma_{uv} \rangle = - \langle n_v, \sigma_u \rangle = - \langle n_u, \sigma_v \rangle, \\
		N &= \langle n, \sigma_{vv} \rangle = - \langle n_v, \sigma_v \rangle.
	\end{align*}
	So if the second fundamental form vanishes, then $n_u$ is orthogonal to $\sigma_u$ and $\sigma_v$. But we also know that $\langle n, n \rangle = 1$, so $n_u$ is orthogonal to $\{n, \sigma_u, \sigma_v\}$. However, these form a basis, so $n_u = 0$. Similarly, $n_v = 0$.

	So $n$ is constant (as $V$ is connected, using the mean value inequality). This implies that $\langle \sigma, n \rangle$ is constant, and $U$ is contained in a plane as desired.
\end{proofbox}

Recall that the first fundamental form in the parametrization $\sigma$ was
\[
	(D \sigma)^{T} D \sigma =
	\begin{pmatrix}
		E & F \\
		F & G
	\end{pmatrix}
	=
	\begin{pmatrix}
		\sigma_u \cdot \sigma_u & \sigma_u \cdot \sigma_v \\
		\sigma_v \cdot \sigma_u & \sigma_v \cdot \sigma_v
	\end{pmatrix}
.\]
Analogously, the second fundamental form can be written as
\[
-(Dn)^{T} D \sigma =
\begin{pmatrix}
	L & M \\
	M & N
\end{pmatrix}
=
\begin{pmatrix}
	n_u \cdot \sigma_u & n_u \cdot \sigma_v \\
	n_v \cdot \sigma_u & n_v \cdot \sigma_v
\end{pmatrix}
,\]
using the alternative expressions for $L$, $M$ and $N$ in the previous proof.

So if $\sigma: V \to U$, $\tilde \sigma : \tilde V \to U$ are two parametrizations with transition map $\varphi : \tilde V \to V$ with $\varphi = \sigma^{-1} \circ \tilde \sigma$, then
\[
n_{\tilde \sigma}(\tilde u, \tilde v) = \pm n_{\sigma}(\varphi(\tilde u, \tilde v))
,\]
where the sign depends on $\det (D \varphi)$, due to out discussion on orientability. Hence
\[
\begin{pmatrix}
	\tilde L & \tilde M \\
	\tilde M & \tilde N
\end{pmatrix}
= - (D n_{\tilde \sigma})^{T}D \tilde \sigma = \pm (D \varphi)^{T}
\begin{pmatrix}
	L & M \\
	M & N
\end{pmatrix}
D \varphi
.\]

\begin{exbox}
	The cylinder has $\sigma(u, v) = (a \cos u, a \sin u, v)$. Note that $\sigma_{uv} = \sigma_{vv} = 0$, so $M = N$.
	
	We can check that $\sigma_{uu} = (-a \cos u, -a \sin u, 0)$ and $n = (\cos u, \sin u, v)$, so $L = -a$ and the second fundamental form is
	\[
	\begin{pmatrix}
		-a & 0 \\
		0 & 0
	\end{pmatrix}
	.\]
\end{exbox}

\begin{definition}
	Let $\Sigma \subset \mathbb{R}^3$ be a smooth oriented surface. The \emph{Gauss map}\index{Gauss map} is
	\[
	n : \Sigma \to S^2
	\]
	is the map $p \to n(p)$, where $n(p)$ is the unit normal vector at $p$, defined by the orientation of $\Sigma$.
\end{definition}

\begin{lemma}
	The Gauss map $n : \Sigma \to S^2$ is smooth.
\end{lemma}

\begin{proofbox}
	Smoothness can be checked locally. If $\sigma : V \to U$ is allowable and compatible with the orientation, then at $\sigma(u, v) = p \in \Sigma$ satisfies
	\[
	n(\sigma(u, v)) = \frac{\sigma_{u} \times \sigma_v}{\| \sigma_u \times \sigma_v\|}
	,\]
	where $n \circ \sigma : V \to S^2$ is smooth, since $\sigma$ is.
\end{proofbox}

Note that $T_p\Sigma = T_{n(p)}S^2$. Thus, we can view
\[
Dn|_p : T_p \Sigma \to T_{n(p)} S^2 = T_p \Sigma
,\]
as the differential of the Gauss map. We can also view $Dn|_p$ acting on tangent vectors in terms of curves: if $\gamma : (-\eps, \eps) \to \Sigma$ has $\gamma(0) = p$ and $\gamma'(0) = v$, then
\[
Dn|_p(v) = Dn|_p(\gamma'(0)) = (n \circ \gamma)'(0)
.\]
Recall the first fundamental form $\fff_p : T_p \Sigma \times T_p \Sigma \to \mathbb{R}$, by
\[
\fff_p(v, w) = \langle v, w \rangle_{\mathbb{R}^3}
.\]

\begin{lemma}
	$D_n|_p : T_p \Sigma \to T_p \Sigma$ is self-adjoint with respect to $\fff_p$, i.e.
	\[
	\fff_p(Dn|_p(v), w) = \fff_p(v, Dn|_p(w))
	.\]
\end{lemma}

\begin{proofbox}
	Take $\sigma$ a parametrization with $\sigma(0) = p$. Then $\{\sigma_u, \sigma_v\}$ is a basis of $T_p \Sigma$.

	To prove the map is self-adjoint, it suffices to check that
	\[
		\langle Dn|_p(\sigma_u), \sigma_v \rangle = \langle n_u, \sigma_v \rangle \overset{\ast}{=} \langle \sigma_u, n_v \rangle = \langle \sigma_u, Dn|_p(\sigma_v) \rangle
	.\]
	This is true, as if we parametrize $n$ as $n(\sigma(u,v))$, then
	\[
	n_u = Dn|_p(\sigma_u), \qquad n_v = Dn|_p(\sigma_v)
	.\]
	Now since
	\[
	\langle n, \sigma_u \rangle = \langle n, \sigma_v \rangle = 0
	,\]
	differentiating the first with respect to $v$ gives
	\[
	\langle n_v, \sigma_u \rangle + \langle n, \sigma_{uv} \rangle = 0
	,\]
	and differentiating the second with respect to $u$ gives
	\[
	\langle n_u, \sigma_v \rangle + \langle u, \sigma_{vu} \rangle = 0
	.\]
\end{proofbox}

Let's try to find the matrix $Dn|_p$ in the basis $\{\sigma_u, \sigma_v\}$:
\begin{align*}
	n_u &= Dn|_p(\sigma_u) = a_{11} \sigma_u + a_{21} \sigma_v, \\
	n_v &= Dn|_p(\sigma_v) = a_{12} \sigma_u + a_{22} \sigma_v.
\end{align*}
Taking the product of these equations with $\sigma_u$ and $\sigma_v$, we find
\[
-
\begin{pmatrix}
	L & M \\
	M & N
\end{pmatrix}
=
\begin{pmatrix}
	E & F \\
	F & G
\end{pmatrix}
\begin{pmatrix}
	a_{11} & a_{12} \\
	a_{21} & a_{22}
\end{pmatrix}
,\]
or if $Q$ is the second fundamental form matrix, $P$ is the first fundamental form matrix, then our matrix satisfies
\[
Q = -PA = -A^{T}P
.\]
If $v = D\sigma|_0(\hat v)$ and $w = D\sigma|_0(\hat w)$, then
\begin{align*}
	\hat v^{T}
	\begin{pmatrix}
		L & M \\
		M & N
	\end{pmatrix}
	\hat w &= - v^{T}
	\begin{pmatrix}
		E & F \\
		F & G
	\end{pmatrix}
	\begin{pmatrix}
		a_{11} & a_{12} \\
		a_{21} & a_{22}
	\end{pmatrix}
	w \\
	       &= \fff_p(v, -Dn|_p(w)) = \fff_p(-Dn|_p(v),w).
\end{align*}
Then the second fundamental form has an intrinsic form given by the symmetric bilinear form
\[
\sff_p : T_p \Sigma \times T_p \Sigma \to \mathbb{R}
,\]
given by
\[
	\sff_p(v, w) = \mathrm{I}_p(-Dn|_p(v), w)
.\]
\begin{definition}
	Let $\Sigma \subset \mathbb{R}^3$ be a smooth surface. The \emph{Gauss curvature}\index{Gauss curvature}\index{curvature} $K : \Sigma \to \mathbb{R}$ of $\Sigma$ is the function
	\[
	p \mapsto \det(Dn|_p)
	.\]
\end{definition}

\begin{remark}
	This is always well-defined, even if $\Sigma$ is not oriented; we can always choose a local expression of $n$. If we replace it by $-n$, the determinant will not change (since $Dn|_p$ is two-dimensional).
\end{remark}

If we pick $\sigma$, then using the formula
\[
-
\begin{pmatrix}
	L & M \\
	M & N
\end{pmatrix}
=
\begin{pmatrix}
	E & F \\
	F & G
\end{pmatrix}
\begin{pmatrix}
	a_{11} & a_{12} \\
	a_{21} & a_{22}
\end{pmatrix}
,\]
and taking the determinant, we get
\[
LN - M^2 = (EG-F^2)K, \implies K = \det(A) = \frac{LN-M^2}{EG - F^2}
.\]

\begin{exbox}
	We look at a cylinder again. We have already calculated the second fundamental form in $\sigma(u, v) = (a \cos u, a \sin u, v)$ to be
	\[
	\begin{pmatrix}
		-a & 0 \\
		0 & 0
	\end{pmatrix}
	.\]
	Hence since the determinant is $0$, we get $K(p) = 0$ for all $p$.

	Indeed, the Gauss map is from $\Sigma$ to the equator of $S^2$, so if $\gamma : (-\eps, \eps) \to \Sigma$ is a vertical curve, then $Dn|_p(\gamma'(0)) = (n \circ \gamma)'(0) = 0$, hence $\det (Dn|_p) = 0$.
\end{exbox}

\begin{definition}
	$\Sigma$ is said to be \emph{flat}\index{flat} if $K = 0$ on $\Sigma$.
\end{definition}

\begin{exbox}
	If $\Sigma$ is a graph of a smooth function $f$, then it is easy to check that
	\[
	E = 1+f_u^2,\, G = 1+f_v^2,\, F = f_uf_v, \, EG-F^2 = 1 + f_u^2 + f_v^2
	,\]
	\[
		L = \frac{f_{uu}}{\sqrt{EG-F^2}}, \; M = \frac{f_{uv}}{\sqrt{EG-F^2}}, \; N = \frac{f_{uv}}{\sqrt{EG-F^2}}
	,\]
	\[
	K = \frac{f_{uu}f_{vv} - f_{uv}^2}{(1+f_u^2+f_v^2)^2}
	.\]
	So the curvature depends on the Hessian of $f$.
\end{exbox}

\begin{definition}
	Let $\Sigma \subset \mathbb{R}^3$, $p \in \Sigma$. We say that $p$ is:
	\begin{itemize}
		\item \emph{elliptic}\index{elliptic} if $K(p) > 0$,
		\item \emph{hyperbolic}\index{hyperbolic} if $K(p) < 0$,
		\item \emph{parabolic}\index{parabolic} if $K(p) = 0$.
	\end{itemize}
\end{definition}

\begin{exbox}
	\begin{enumerate}
		\item Looking at the graph $f(u, v) = \frac{u^2+v^2}{2}$, then at $(0,0)$,
			\[
			K(0,0,0) = 1
			.\]
			Hence the point is elliptic.
		\item Looking at the graph $f(u, v) = \frac{u^2 - v^2}{2}$, at $(0, 0)$,
			\[
			K(0,0,0) = -1
			.\]
			Hence the point is hyperbolic.
	\end{enumerate}
\end{exbox}

\begin{lemma}
	\begin{enumerate}[\normalfont(a)]
		\item[]
		\item In a sufficiently small neighbourhood of an elliptic point $p$, $\Sigma$ lies entirely on one side of the affine tangent plane $p + T_p\Sigma$.
		\item In a sufficiently small neighbourhood of a hyperbolic, $\Sigma$ meets both sides of its affine tangent plane.
	\end{enumerate}
\end{lemma}

\begin{proofbox}
	Take a parametrization $\sigma$. Near $p$,
	\[
	K = \frac{LN-M^2}{EG-F^2}
	,\]
	and $EG-F^2 > 0$. Recall also that if
	\[
	w = n \sigma_n + l \sigma_v \in T_p \Sigma
	,\]
	then $\frac{1}{2} \sff_p(w, w)$ measured the distance from $\sigma(h, l)$ to $p + T_p \Sigma$ measured in the inner product space with positive normal:
	\[
	\frac{1}{2} (Lh^2 + 2Mhl + Nl^2) = \mathcal{O}(h^3,l^3)
	.\]
	If $p$ is elliptic, then
	\[
	\begin{pmatrix}
		L & M \\ M & N
	\end{pmatrix}
	\]
	has eigenvalues of the same sign, so it positive or negative definite at $p$. Hence in a neighbourhood of $p$, this signed distance only has one sign locally.

	If $p$ is hyperbolic, then $\sff_p$ is indefinite, so $\Sigma$ meets both sides of $p + T_p\Sigma$.
\end{proofbox}

\begin{remark}
	If $p$ is parabolic, we cannot conclude either.

	Take a cylinder. Then all points lie on the side of the tangent plane. 

	But if we take parametrization $\sigma(u, v) = (u, v, u^3 - 3v^2u)$, then at $p = \sigma(0,0)$, $K(p) = 0$, but locally $\Sigma$ meets both sides of its tangent plane (this is known as the \emph{Monkey saddle}).
\end{remark}

%lecture 13

\begin{proposition}
	Let $\Sigma$ be a compact surface in $\mathbb{R}^3$. Then $\Sigma$ has an elliptic point.
\end{proposition}

\begin{proofbox}
	$\Sigma$ compact means $\Sigma \in \overline{B(0,R}$, for some $R$ large enough. Decrease $R$ to the minimal such value, so that some point $p$ is on the boundary of $B(0,R)$.

	Up to applying a rotation and translation, we may assume that the point of contact is on the $z$-axis.

	Locally near $p$, we can view $\Sigma$ as the graph of a smooth function $f$, such that
	\[
		f - \sqrt{R^2 - u^2 - v^2} \leq 0.
	\]
	We have $f : V \to \mathbb{R}$, with $V$ open in $\mathbb{R}^2$. Since $f$ has a local maximum at $(0,0)$, $f_v = f_u = 0$ at $(0,0)$. Now let
	\[
		F(u,v) = f(u, v) - \sqrt{R^2 - u^2 - v^2} \leq 0.
	\]
	An easy computation shows that $F_u = F_v = 0$ at $(0,0)$. Moreover,
	\begin{align*}
		F_{uu} &= f_{uu} + 1/R, \\
		F_{uv} &= f_{uv}, \\
		F_{vv} &= f_{vv} + 1/R,
	\end{align*}
	hence by a Taylor expansion and using the fact that $0$ is a local maximum
	\[
		(f_{uu} + 1/R)h^2 + 2f_{uv}hl + (f_{vv} + 1/R)l^2 \leq 0,
	\]
	for small enough $h, l$. Rearranging,
	\[
	f_{uu}h^2 + 2f_{uv} hl + f_{vv}l^2 \leq -\frac{1}{R}(h^2+l^2),
	\]
	hence we get
	\[
	\begin{pmatrix}
		L & M \\
		M & N
	\end{pmatrix}
	=
	\begin{pmatrix}
		f_{uu} & f_{uv} \\
		f_{uv} & f_{vv}
	\end{pmatrix}
	\]
	is negative definite at $(0,0)$. Since at $(0,0)$, $E = G = 1$ and $F = 0$, $K(p) > 0$.
\end{proofbox}

\begin{theorem}
	Let $\Sigma \subset \mathbb{R}^3$, $p \in \Sigma$ with $K(p) \neq 0$. Let $U \subset \Sigma$ be a small open neighbourhood of $p$.

	Consider a sequence $p \in A_i \subset U \subset \Sigma$, such that the $A_i$ ``shrink'' to $p$, in the sense that for all $\eps > 0$, $A_i \subset B(p, \eps)$, for all $i$ large enough.

	Then,
	\[
	|K(p)| = \lim_{i \to \infty} \frac{\area_{S^2}(n(A_i))}{\area_{\Sigma}(A_i)},
	\]
	i.e. the Gauss curvature is an infinitesimal measure of how much the Gauss map $n$ distorts areas.
\end{theorem}

\begin{proofbox}
	This is all local, so take $\sigma : V \to U$ with $\sigma(0) = p$, and let $V_i = \sigma^{-1}(A_i) \subset V$ be open. Since $A_i$ shrink to $p$,
	\[
		\bigcap_{i \geq 1} V_i = \{(0,0)\}.
	\]
	Moreover we have
	\begin{align*}
		\area_{\Sigma}(A_i) &= \int_{V_i} \sqrt{EG-F^2} \diff u \diff v \\
				    &= \int_{V_i} \|\sigma_u \times \sigma_v\| \diff u \diff v.
	\end{align*}
	Now $n \circ \sigma : V \to S^2 \subset \mathbb{R}^2$ has differential $Dn|_p \circ D\sigma|_0$, which has rank $2$ since $K(p) \neq 0$.

	Thus $n \circ \sigma$ defines an allowable parametrization in an open neighbourhood of $n(p) \subset S^2$ by the inverse function theorem. Thus,
	\[
	\area_{S^2}(n(A_i)) = \int_{V_i} \|n_u \times n_v \| \diff u \diff v,
	\]
	as $\|n_u \times n_v\| = \|Dn(\sigma_u) \times Dn(\sigma_v)\|$. Recall from the last lecture that
	\begin{align*}
		Dn(\sigma_u) &= a_{11} \sigma_u + a_{21} \sigma_v \\
		Dn(\sigma_v) &= a_{12} \sigma_u + a_{22} \sigma_v
	\end{align*}
	hence
	\begin{align*}
		Dn(\sigma_u) \times Dn(\sigma_v) &= (a_{11} \sigma_u + a_{21} \sigma_v) \times (a_{12}\sigma_u + a_{22}\sigma_v) \\
						 &= (a_{11}a_{22} - a_{12}a_{21})(\sigma_u \times \sigma_v)  = K(p)(\sigma_u \times \sigma_v),
	\end{align*}
	so
	\begin{align*}
		\area_{S^2}(n(A_i)) &= \int_{V_i} \|n_u \times n_v\| \diff u \diff v = \int_{V_i}|\det Du|\|\sigma_u \times \sigma_v\| \diff u \diff v \\
				    &= \int_{V_i}|K(u,v)|\|\sigma_u \times \sigma_v\| \diff u \diff v.
	\end{align*}
	Since $K$ is continuous, given $\eps > 0$, there exists $\delta > 0$ such that $|K(u,v) - K(0,0)| < \eps$ for all $(u, v) \in B((0,0), \delta) \subset V$. So if $i \geq i_0$, we have
	\[
	|K(p)| - \eps \leq |K(u,v)| \leq |K(p)| + \eps.
	\]
	Hence,
	\begin{align*}
		(|K(p)|-\eps)\int_{V_i} \|\sigma_u \times \sigma_v\| \diff u \diff v &\leq \int_{V_i}|K(u,v)|\|\sigma_u \times \sigma_v\| \diff u \diff v \\
										     &\leq (|K(p)| + \eps) \int_{V_i} \|\sigma_u \times \sigma_v\| \diff u \diff v,
	\end{align*}
	which when dividing gives
	\[
	|K(p)| - \eps \leq \frac{\area_{S^2}(n(A_i))}{\area_{\Sigma}(A_i)}\leq |K(p)| + \eps,
	\]
	for all $i \geq i_0$.
\end{proofbox}

%lecture 14

The Gauss curvature is constraint by two theorems. The first is called the ``theorem egrigium'' (meaning ``remarkable theorem'').

\begin{theorem}
	The Gauss curvature of a smooth surface in $\mathbb{R}^3$ is isometry invariant, i.e. if $f: \Sigma_1 \to \Sigma_2$ is an isometry, then
	\[
	K_1(p) = K_2(f(p)),
	\]
	for all $p \in \Sigma$.

	In fact $K$ can be computed exclusively in terms of $\fff_p$ even though it was defined using $\fff_p$ and $\sff_p$.
\end{theorem}

Another important theorem is the following:

\begin{theorem}[Gauss-Bonnet theorem]\index{Gauss-Bonnet}
	If $\Sigma$ is a compact smooth surface in $\mathbb{R}^3$, then
	\[
	\int_{\Sigma} K \diff A_{\Sigma} = 2 \pi \chi(\Sigma),
	\]
	where $\chi$ is the Euler-characteristic.
\end{theorem}

This provides a link between the (local) geometry of the surface, and the (global) topology of the surface.

Proofs for these are found in part II differential geometry.

\newpage

\section{Geodesics}
\label{sec:geodesics}

Recall that if $\gamma : [a, b] \to \mathbb{R}^3$ is smooth, then
\[
\len(\gamma) = L(\gamma) \int_{a}^{b} |\gamma'(\theta)| \diff \theta.
\]
\begin{definition}
	The \emph{energy}\index{energy} of $\gamma$ is
	\[
	E(\gamma) = \int_{a}^{b} |\gamma'(t)|^2 \diff t.
	\]
\end{definition}

If we let $\Omega_{pq}$ be the set of all curves $\gamma : [a, b] \to \mathbb{R}^3$ with $\gamma(a) = p$, $\gamma(b) = q$, then the energy is a map
\[
E : \Omega_{pq} \to \mathbb{R}.
\]
In fact we really want to generalize this to surfaces $\Sigma \subset \mathbb{R}^3$ and curves $\gamma : [a, b] \to \Sigma$.

\begin{definition}
	Let $\gamma : [a, b] \to \Sigma \subset \mathbb{R}^3$ be smooth. A \emph{one-parameter variation}\index{one-parameter variation}\index{variation} (with fixed endpoints) of $\gamma$ is a smooth map $\Gamma : (-\eps, \eps) \times [a, b] \to \Sigma$ such that, if $\gamma_s = \Gamma(s, \cdot)$, then
	\begin{enumerate}[(a)]
		\item $\gamma_0(t) = \gamma(t)$ for all $t$.
		\item $\gamma_s(a)$, $\gamma_s(b)$ are independent of $s$.
	\end{enumerate}
\end{definition}

\begin{definition}
	A smooth curve $\gamma : [a, b] \to \Sigma$ is a \emph{geodesic}\index{geodesic} if for any variation $\gamma_s$ of $\gamma$ with fixed endpoints, we have
	\[
	\frac{\diff}{\diff s} E(\gamma_s) \biggr|_{s = 0} = 0,
	\]
	i.e. $\gamma$ is a critical point of the energy function on curves from $\gamma(a)$ to $\gamma(b)$.
\end{definition}

Suppose $\gamma$ has image contained in the image of a parametrization $\sigma$. Then we write
\[
\gamma_s(t) = \sigma(u(s, t), v(s, t)).
\]
Suppose the first fundamental form is $E \diff u^2 + 2 F \diff u \diff v + G \diff v^2$. Then we define
\[
R = E \dot u^2 + 2 F \dot u \dot v + G \dot v^2,
\]
and the energy is
\[
E(\gamma_s) = \int_{a}^{b} R \diff t.
\]
We also have
\begin{align*}
	\frac{\partial R}{\partial s} = &(E_u \dot u^2 + 2 F_u \dot u \dot v + G_u \dot v^2) \frac{\partial u}{\partial s} + (E_v \dot u^2 + 2 F_v \dot u \dot v + G_v \dot v^2) \frac{\partial v}{\partial s} \\
				      &+ 2 (E \dot u + F \dot v) \frac{\partial \dot u}{\partial s} + 2 (F \dot u + G \dot v) \frac{\partial \dot v}{\partial s},
\end{align*}
so
\[
\frac{\diff}{\diff s}E(\gamma_s) = \int_{a}^{b} \frac{\partial R}{\partial s} \diff t.
\]
Note that
\[
\frac{\partial \dot u}{\partial s} = \frac{\partial^2 u}{\partial s \partial t}, \qquad \frac{\partial \dot v}{\partial s} = \frac{\partial^2 v}{\partial s \partial t},
\]
and so integrating by parts and noticing that $u_s, v_s$ vanish at the endpoints $a$ and $b$, we get
\[
	\frac{\diff}{\diff s} E(\gamma_s) \biggr|_{s = 0} = \int_{a}^{b} \biggl[ A \frac{\partial u}{\partial s} + B \frac{\partial v}{\partial s} \biggr] \diff t,
\]
where
\begin{align*}
	A &= E_u \dot u^2 + 2 F_u \dot u \dot v + G_u \dot v^2 - 2 \frac{\diff}{\diff t} (E \dot u + F \dot v), \\
	B &= E_v \dot u ^2 + 2 F_v \dot u \dot v + G_v \dot v^2 - 2 \frac{\diff}{\diff t} (F \dot u + G \dot v).
\end{align*}
Note that we have absolute freedom in choosing the variational vector field
\[
w(t) = \biggl( \frac{\partial u}{\partial s}(0, t), \frac{\partial v}{\partial s}(0,t) \biggr).
\]
Hence we see that $\gamma$ is geodesic if and only if $A = B = 0$. Thus $\gamma$ is a geodesic if and only $\gamma(t) = \sigma(u(t), v(t))$ satisfies the \emph{geodesic equations}\index{geodesic equations}
\begin{align*}
	\frac{\diff}{\diff t} (E\dot u + F \dot v) &= \frac{1}{2} (E_u \dot u^2 + 2 F_u \dot u \dot v + G_u \dot v^2), \\
	\frac{\diff}{\diff t}(F \dot u + G \dot v) &= \frac{1}{2} (E_v \dot u^2 + 2 F_v \dot u \dot v + G_v \dot v^2).
\end{align*}
\begin{remark}
	\begin{enumerate}
		\item[]
		\item If $w(t)$ has $w(a) = w(b) = 0$, then
			\[
			\gamma_s(t) = \gamma(u(t), v(t) + s w(t))
			\]
			for $s$ small enough is a variation of $\gamma$ with fixed end points and variational vector field $w$.
		\item Recall from IA Analysis example sheets that if
			\[
			\int_{a}^{b} f(x) g(x) \diff x = 0,
			\]
			for all $g : [a, b] \to \mathbb{R}$ with $g(a) = g(b) = 0$, then $f = 0$. We are using exactly this to obtain the geodesic equations.
	\end{enumerate}
\end{remark}

%lecture 15

Probably the best way to think about these is via the \emph{Euler-Lagrange} equations of the \emph{Lagrangian}:
\[
L(u, v, \dot u, \dot v) = \frac{1}{2}(E \dot u^2 + 2 F \dot u \dot v + G \dot v^2).
\]
This is the purely kinetic energy. Recall from Variational Principles that the Euler-Lagrange equations\index{Euler-Lagrange equations} are:
\[
\frac{\diff}{\diff t} \frac{\partial L}{\partial \dot q_i} = \frac{\partial L}{\partial q_i},
\]
and here $q_1 = u$, $q_2 = v$.

\begin{proposition}
	Let $\Sigma \subset \mathbb{R}^3$ be a smooth surface. A smooth curve $\gamma: [a, b] \to \Sigma$ is a geodesic if and only if $\ddot \gamma(t)$ is everywhere normal to $\Sigma$.
\end{proposition}

\begin{proofbox}
	As the statement is purely local, we can work in a parametrization $\sigma : V \to U \subset \Sigma$, and as usual, $\gamma(t) = \sigma(u(t), v(t))$. Then,
	\[
	\dot \gamma(t) = \sigma_u \dot u + \sigma_v \dot v,
	\]
	so $\ddot \gamma(t)$ is normal to $\Sigma$ exactly when it is orthogonal to $T_{\gamma(t)}\Sigma$, which is spanned by $\{\sigma_u, \sigma_v\}$. In other words,
	\begin{align*}
		\biggl\langle \frac{\diff}{\diff t} (\sigma_u \dot u + \sigma_v \dot v), \sigma_u \biggr\rangle &= 0, \\
		\biggl\langle \frac{\diff}{\diff t} (\sigma_u \dot u + \sigma_v \dot v), \sigma_v \biggr\rangle &= 0.
	\end{align*}
	The first statement is equivalent to
	\[
	\frac{\diff}{\diff t}\langle \sigma_u \dot u + \sigma_v \dot v, \sigma_u \rangle - \langle \sigma_u \dot u + \sigma_v \dot v, \frac{\diff}{\diff t} \sigma_u \rangle = 0.
	\]
	Noting that $E = \langle \sigma_u, \sigma_v \rangle$ and $F = \langle \sigma_u, \sigma_v\rangle$, this is exactly
	\begin{align*}
		\frac{\diff}{\diff t} (E \dot u + F \dot v) - \langle \sigma_u \dot u + \sigma_v \dot v, \sigma_{uu} \dot u + \sigma_{uv} \dot v \rangle = 0, \\
		\frac{\diff}{\diff t}(E \dot u + F \dot v) - \dot u^2 \langle \sigma_u, \sigma_{uu} \rangle + \dot u \dot v (\langle \sigma_u, \sigma_{uv}\rangle + \langle \sigma_v, \sigma_{uv} \rangle) + \dot v^2 \langle\sigma_v, \sigma_{uv}\rangle.
	\end{align*}
	But,
	\begin{align*}
		E = \langle\sigma_u, \sigma_v\rangle &\implies E_u = 2 \langle\sigma_u, \sigma_{uu}\rangle, \\
		F = \langle\sigma_u, \sigma_v \rangle &\implies F_u = \langle\sigma_u, \sigma_{uv}\rangle + \langle\sigma_v, \sigma_{uu}\rangle, \\
		G = \langle\sigma_v, \sigma_v\rangle &\implies G_u = 2 \langle\sigma_v, \sigma_{uv}\rangle,
	\end{align*}
	Thus the first equation becomes
	\[
	\frac{\diff}{\diff t}(E \dot u + F \dot v) = \frac{1}{2} (E_u \dot u^2 + 2 F_u \dot u \dot v + G_u \dot v^2),
	\]
	which is the first geodesic equation. Similarly, the second equation becomes the second geodesic equation.
\end{proofbox}

\begin{corollary}
	If $\gamma : [a, b] \to \Sigma$ is a geodesic, then $|\dot \gamma(t)|$ is constant.
\end{corollary}

\begin{proofbox}
	We have
	\[
	\frac{\diff}{\diff t} \langle \dot \gamma, \dot \gamma \rangle = 2 \langle \ddot \gamma, \dot \gamma \rangle = 0,
	\]
	since $\ddot \gamma$ is perpendicular to $T_{\gamma(t)}\Sigma$, and $\dot \gamma(t) \in T_{\gamma(t)}\Sigma$.
\end{proofbox}

Thus geodesics are parametrized with \emph{constant speed} (i.e proportional to arc-length).

\subsection{Length versus Energy}
\label{sub:length_versus_energy}

Energy is sensitive to parametrization. Given $\gamma : [a, b] \to \mathbb{R}^3$ smooth, we always have:
\[
	(L(\gamma))^2 \leq (b - a) E(\gamma),
\]
with equality if and only if $|\dot \gamma|$ is constant.

Indeed, using Cauchy-Schwarz,
\[
\Biggl( \int_{a}^{b} | \dot \gamma(t)|\diff t \Biggr)^2 \leq \Biggl( \int_{a}^{b} |\dot \gamma(t)|^2 \diff t \Biggr) \Biggl( \int_{a}^{b} 1 \diff t \Biggr),
\]
with equality if and only if $|\dot \gamma|$ is constant.

\begin{corollary}
	A smooth curve $\gamma : [a, b] \to \Sigma \subset \mathbb{R}^3$ that minimizes length and has constant speed is a geodesic.
\end{corollary}

\begin{proofbox}
	We need to prove that $\gamma$ is a critical point of $E$. Let $\tau : [a, b] \to \Sigma$ be any other curve connected $\gamma(a)$ and $\gamma(b)$. Then
	\[
	E(\gamma) = \frac{(L(\gamma))^2}{b - a} \leq \frac{(L(\tau))^2}{b - a} \leq E(\tau),
	\]
	hence $\gamma$ is critical for $E$ and hence a geodesic.
\end{proofbox}

A geodesic may not be a global minimizer, but they are always local minimizers.

\begin{exbox}
	\begin{enumerate}
		\item The plane $\mathbb{R}^2$. Let $\sigma(u, v) = (u, v, 0)$. Then the first fundamental form is $\diff u^2 + \diff v^2$. The geodesic equations are
			\[
			\frac{\diff}{\diff t}(\dot u) = 0, \qquad \frac{\diff}{\diff t} (\dot v) = 0.
			\]
			So $u(t) = \alpha t + \beta$, $v(t) = \gamma(t) + \delta$, which is a straight line parametrized by a constant speed.
		\item Take the unit sphere with $\sigma$ given by spherical coordinates. Then
			\begin{align*}
				\sigma(\phi, \theta) &= (\sin \theta \cos \phi, \sin \theta \sin \phi, \cos \theta), \\
				\sigma_\phi &= (- \sin \theta, \sin \phi, \sin \theta \cos \phi, 0), \\
				\sigma_{\theta} &= (\cos \theta \cos \phi, - \cos \theta \sin \phi, - \sin \theta).
			\end{align*}
			Then $E = \sin^2\theta$, $F = 0$ and $G = 1$, so
			\[
			L = \frac{1}{2} (\sin^2 \theta \dot \phi^2 + \dot \theta^2).
			\]
			This is the Lagrangian $L(\theta, \phi, \dot \theta, \dot \phi)$. From the Euler-Lagrange equations, we get
			\[
			\frac{\diff}{\diff t}(\sin^2 \dot \phi) = 0, \qquad \ddot \theta = \sin \theta \cos \theta \dot \phi^2.
			\]
			These equations give right away that the equator $t \to (t, \pi/2)$ is a geodesic. In fact, all great circles parametrized with constant speed are geodesics.

			We can prove this by integrating the Euler-Lagrange equations, but we can see this geometrically by noticing that such curves have $\ddot \gamma$ perpendicular to $T_{\gamma(t)}S^2$.

			Since geodesics solve a second order ODE, prescribing $v \in T_p\Sigma$ determines the geodesic completely. Thus great circles are all possible geodesics.

			Note that the larger great circle $\gamma$ between $p$ and $q$ does not minimize the length.
	\end{enumerate}
\end{exbox}

\begin{figure}[h]
	\centering
	\caption{Geodesic not minimizing length}
	\label{fig:long_geodesic}
	\begin{tikzpicture}
		\draw (0,0) circle (2.5);
		\draw[dashed, middlearrow = {<}] (2.5,0) arc(0:180:2.5 and 0.5);
		\draw[middlearrow = {>}] (0,0) + (260:2.5 and 0.5) arc (260:180:2.5 and 0.5);
		\draw[fill] (260:2.5 and 0.5) circle (0.06);
		\node[below] at (260:2.5 and 0.5) {\small $p$};
		\draw[middlearrow = {>}] (2.5,0) arc (0:-80:2.5 and 0.5);
		\draw[fill] (280:2.5 and 0.5) circle (0.06);
		\node[below] at (280:2.5 and 0.5) {\small $q$};
		\draw[red, middlearrow = {>}] (260:2.5 and 0.5) arc (260:280:2.5 and 0.5);
	\end{tikzpicture}
\end{figure}

\newpage

\printindex

\end{document}
