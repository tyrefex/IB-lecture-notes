\documentclass[12pt]{article}
\usepackage{amsmath}
\usepackage[a4paper]{geometry}
\usepackage{fancyhdr}
\usepackage{tikz}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{amsthm}
\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}
\usepackage{adjustbox}
\usepackage[shortlabels]{enumitem}
\usepackage{parskip}
\makeatletter
\newcommand{\@minipagerestore}{\setlength{\parskip}{\medskipamount}}
\makeatother
\usepackage{imakeidx}

\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Img}{Im}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\nullity}{null}
\DeclareMathOperator{\spn}{span}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\adj}{adj}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\Orb}{Orb}
\DeclareMathOperator{\Stab}{Stab}
\DeclareMathOperator{\ccl}{ccl}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Syl}{Syl}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\Fit}{Fit}
\DeclareMathOperator{\Ann}{Ann}


\newcommand{\incfig}[1]{%
	\def\svgwidth{\columnwidth}
	\import{./figures/}{#1.pdf_tex}
}

\setlength\parindent{0pt}

\newcommand{\course}{AT }
\newcommand{\lecnum}{}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{proposition}{Proposition}[section]

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{example}{Example}[section]

\theoremstyle{remark}
\newtheorem*{remark}{Remark}

\pagestyle{fancy}
\fancyhf{}
\rhead{\leftmark}
\lhead{Page \thepage}
\setlength{\headheight}{15pt}

\newcommand{\mapsfrom}{\mathrel{\reflectbox{\ensuremath{\mapsto}}}}

\makeindex[intoc]

\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
    pdfauthor={Ishan Nath}
}

\begin{document}

\hypersetup{pageanchor=false}
\begin{titlepage}
	\begin{center}
		\vspace*{1em}
		\Huge
		\textbf{IB Analysis \& Topology}

		\vspace{1em}
		\large
		Ishan Nath, Michaelmas 2022

		\vspace{1.5em}

		\Large

		Based on Lectures by Dr. Paul Russell

		\vspace{1em}

		\large
		\today
	\end{center}
	
\end{titlepage}
\hypersetup{pageanchor=true}

\tableofcontents

\newpage

\part{Generalizing Continuity and Convergence}%
\label{prt:generalizing_continuity_and_convergence}

\section{Three Examples of Convergence}%
\label{sec:three_examples_of_convergence}

\subsection{Convergence in \texorpdfstring{$\mathbb{R}$}{R}}%
\label{sub:convergence_in_r_}

Let $(x_n)$ be a sequence in $\mathbb{R}$ and $x \in \mathbb{R}$. We say $(x_n)$ \textbf{converges}\index{convergence in $\mathbb{R}$} to $x$, and write $x_n \to x$, if for all $\varepsilon > 0$, there exists $N$ such that for all $n \geq N$, $|x_n - x| < \varepsilon$.

In $\mathbb{R}$, one useful fact is the \textbf{triangle inequality} -- $|a+b| \leq |a| + |b|$. We also have two key theorems:

\begin{theorem}[Bolzano-Weierstrass Theorem]\index{Bolzano-Weierstrass theorem}
\item
	A bounded sequence in $\mathbb{R}$ must have a convergent subsequence.
\end{theorem}

Recall that a sequence $(x_n)$ in $\mathbb{R}$ is \textbf{Cauchy}\index{Cauchy sequence} if for all $\varepsilon > 0$, there exists $N$, such that for all $m, n \geq N$, $|x_m - x_n| < \varepsilon$. It is easy to show every convergent sequence is Cauchy. We also have the following:

\begin{theorem}[General Principle of Convergence]\index{general principle of convergence}
\item
	Any Cauchy sequence in $\mathbb{R}$ converges.
\end{theorem}

This can be proven by Bolzano-Weierstrass theorem.

\subsection{Convergence in \texorpdfstring{$\mathbb{R}^2$}{R\^2}}%
\label{sub:convergence_in_r_2_}

Let $(z_n)$ be a sequence in $\mathbb{R}^2$, and $z \in \mathbb{R}^2$. We wish to define $(z_n) \to z$.

In $\mathbb{R}$, we used the norm $|x|$. In $\mathbb{R}^2$, if we have $z = (x, y)$, then we can say $\|z\| = \sqrt{x^2 + y^2}$. This also satisfies the triangle inequality\index{triangle inequality} -- $\|a + b\| \leq \|a\| + \|b\|$.

\begin{definition}
	Let $(z_n)$ be a sequence in $\mathbb{R}^2$, and $z \in \mathbb{R}^2$. We say that $(z_n)$ \textbf{converges} to $z$, and write $z_n \to z$, if for all $\varepsilon > 0$, there exists $N$ such that for all $n \geq N$, $\|z_n - z\| < \varepsilon$.

	Equivalently, $z_n \to z$ if and only if $\|z_n - z\| \to 0$.
\end{definition}

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
	\begin{lemma}
	If $(z_n)$, $(w_n)$ are sequences in $\mathbb{R}^2$ with $z_n \to z$, $w_n \to w$. Then $z_n + w_n \to z + w$.
\end{lemma}

\textbf{Proof:}
\begin{align*}
	\|(z_n + w_n) - (z + w)\| \leq \|z_n - z\| + \|w_n - w\| \to 0 + 0 = 0.
\end{align*}

\end{adjustbox}

In fact, given convergence in $\mathbb{R}$, convergence in $\mathbb{R}^2$ is easy.

\begin{proposition}
	Let $(z_n)$ be a sequence in $\mathbb{R}^2$ and let $z \in \mathbb{R}^2$. Write $z_n = (x_n, y_n)$ and $z = (x, y)$. Then $z_n \to z$ if and only if $x_n \to x$ and $y_n \to y$.
\end{proposition}

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
\textbf{Proof:}

First, note $|x_n - x|, |y_n - y| \leq \|z_n - z\|$, so $\|z_n - z\| \to 0$ implies $|x_n - x|, |y_n - y| \to 0$.

Now, if $|x_n - x|, |y_n - y| \to 0$, then $\|z_n - z\| = \sqrt{|x_n - x|^2 + |y_n - y|^2} \to 0$.
\end{adjustbox}

\begin{definition}
	A sequence $(z_n)$ in $\mathbb{R}^2$ is \textbf{bounded} if there exists $M \in \mathbb{R}$ such that for all $n$, $\|z_n\| \leq M$.
\end{definition}

\begin{theorem}[Bolzano-Weierstrass in $\mathbb{R}^2$]
\item
	A bounded sequence in $\mathbb{R}^2$ must have a convergent subsequence.
\end{theorem}

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
	\textbf{Proof:} Let $(z_n)$ be a bounded subsequence in $\mathbb{R}^2$. Write $z_n = (x_n, y_n)$. Now $|x_n|, |y_n| \leq \|z_n\|$, so $x_n, y_n$ are bounded in $\mathbb{R}$.

	By Bolzano-Weierstrass, $x_n$ has a convergent subsequence, say $x_{n_j} \to x \in \mathbb{R}$. Similarly $(y_{n_j})$ is bounded, so it has a convergent subsequence $y_{n_{j_k}} \to y$. Since we know $x_{n_{j_k}} \to x$, $z_{n_{j_k}} \to z = (x, y)$.
\end{adjustbox}

\begin{definition}
	A sequence $(z_n) \in \mathbb{R}^2$ is \textbf{Cauchy} if for all $\varepsilon > 0$, there exists $N$ such that for all $m, n \geq N$, $\|z_m - z_n\| < \varepsilon$.
\end{definition}

It is easy to show a convergent sequence in $\mathbb{R}^2$ is Cauchy.

\begin{theorem}[General Principle of Convergence for $\mathbb{R}^2$]
\item
	Any Cauchy sequence in $\mathbb{R}^2$ converges.
\end{theorem}

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
	\textbf{Proof:} Let $(z_n)$ be a Cauchy sequence in $\mathbb{R}^2$. Write $z_n = (x_n, y_n)$. For all $m, n$, $|x_m - x_n| \leq \|z_m - z_n\|$, so $(x_n)$ is a Cauchy sequence in $\mathbb{R}$, thus it converges in $\mathbb{R}$. Similarly, $(y_n)$ converges in $\mathbb{R}$, so $(z_n)$ converges.
\end{adjustbox}

\subsection{Convergence of Functions}%
\label{sub:convergence_of_functions}

Let $X \subset \mathbb{R}$. Let $f_n : X \to \mathbb{R}$, and let $f : X \to \mathbb{R}$. What does it mean for $(f_n)$ to converge to $f$?

\begin{definition}\index{pointwise convergence}
	Say $(f_n)$ \textbf{converges pointwise} to $f$, and we write $f_n \to f$ pointwise, if for all $x \in X$, $f_n(x) \to f(x)$ as $n \to \infty$.
\end{definition}

Although this is simple and easy to check, it doesn't preserve some `nice' properties that we want.

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
\begin{example}
	In all three examples, $X = [0,1]$, and $f_n \to f$ pointwise.
	\begin{enumerate}[1.]
		\item We will construct $f_n$ continuous, but $f$ not. Take
			\[
				f_n(x) =
				\begin{cases}
					nx & x \leq \frac{1}{n}, \\
					1 & x \geq \frac{1}{n}.
				\end{cases},
				f =
				\begin{cases}
					0 & x = 0, \\
					1 & x > 0.
				\end{cases}
			\]
			Then $(f_n) \to f$ pointwise, but $f$ is not continuous.
		\item We will construct $f_n$ Riemann integrable, but $f$ not. Take the function
			\[
				f(x) =
				\begin{cases}
					1 & x \in \mathbb{Q}, \\
					0 & x \not \in \mathbb{Q}.
				\end{cases}
			\]
			Enumerate the rationals in $[0,1]$ as $q_1, q_2, \ldots$. For $n \geq 1$, set
			\[
				f_n(x) =
				\begin{cases}
					1 & x = q_1, \ldots, q_n, \\
					0 & \text{otherwise}.
				\end{cases}	
			\]
		\item We will construct $f_n$ Riemann integrable, $f$ Riemann integrable, but the integrals do not converge. Take $f(x) = 0$ for all $x$. We construct $f_n$ with integral 1, such as
			\[
				f_n(x) =
				\begin{cases}
					n & 0 < x < \frac{1}{n}, \\
					0 & \text{otherwise}.
				\end{cases}
			\]
	\end{enumerate}
	
\end{example}

\end{adjustbox}

We consider another definition of convergence.

\begin{definition}[Uniform Convergence]\index{uniform convergence}
	Let $X \subset \mathbb{R}$, $f_n : X \to \mathbb{R}$, $f : X \to \mathbb{R}$. We say $(f_n)$ \textbf{converges uniformly} to $f$, and write $f_n \to f$ uniformly, if for all $\varepsilon > 0$, there exists $N$, such that for all $x \in X$ and all $n \geq N$, $|f_n(x) - f(x)| < \varepsilon$.
\end{definition}

In particular, $f_n \to f$ uniformly implies $f_n \to f$ pointwise.

Equivalently, $f_n \to f$ uniformly if for sufficiently large $n$, $f_n - f$ is bounded, and
\[
	\sup_{x \in X} |f_n(x) - f(x)| \to 0
.\]

\begin{theorem}
	Let $X \subset \mathbb{R}$, $f_n : X \to \mathbb{R}$ be continuous, and let $f_n \to f : X \to \mathbb{R}$ uniformly. Then $f$ is continuous.
\end{theorem}

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
	\textbf{Proof:} Let $x \in X$, and pick $\varepsilon > 0$. As $f_n \to f$ uniformly, we can find $N$ such that for all $n \geq N$ and $ \in X$,
	\[
		|f_n(y) - f(y)| < \varepsilon
	.\]
	In particular, we may take $n = N$. As $f_N$ is continuous, we can find $\delta > 0$ such that for all $y \in X$, 
	\[
		|y - x| < \delta \implies |f_N(y) - f_N(x)| < \varepsilon
	.\]
	Now let $y \in X$ with $|y - x| < \delta$. Then
	\begin{align*}
		|f(y) - f(x)| \leq |f(y) - f_N(y)| + |f_N(y) - f_N(x)| + |f_N(x) - f(x)| < \varepsilon + \varepsilon + \varepsilon = 3 \varepsilon.
	\end{align*}
	But $3\varepsilon$ can be made arbitrarily small, so $f$ is continuous.
\end{adjustbox}

\begin{remark}
	This is often called a `$3\varepsilon$ proof' (or a `$\varepsilon/3$ proof').
\end{remark}

\begin{theorem} 
	Let $f_n : [a, b] \to \mathbb{R}$ be integrable and let $f_n \to f : [a, b] \to \mathbb{R}$ uniformly. Then $f$ is integrable and
	\[
	\int_{a}^{b} f_n \to \int_{a}^{b} f
	\]
	as $n \to \infty$.
\end{theorem}

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
	\textbf{Proof:} As $f_n \to f$ uniformly, we can pick $n$ sufficiently large such that $f_n - f$ is bounded. Also $f_n$ is bounded, so by the triangle inequality $f = (f - f_n) + f_n$ is bounded.

	Let $\varepsilon > 0$. As $f_n \to f$ uniformly, there is some $N$ such that for all $n \geq N$ and $x \in [a, b]$, we have $|f_n(x) - f(x)| < \varepsilon$. By Riemann's criterion, there is some dissection $\mathcal{D}$ of $[a, b]$ for which
	\[
		S(f_N, \mathcal{D}) - s(f_N, \mathcal{D}) < \varepsilon
	.\]
	Let $\mathcal{D} = \{x_0, x_1, \ldots, x_k\}$, where $a = x_0 < x_1 < \cdots < x_k = b$. Now,
	\begin{align*}
		S(f, \mathcal{D}) &= \sum_{i = 1}^{k}(x_{i} - x_{i-1}) \sup_{x \in [x_{i-1}, x_{i}]} f(x) \\
				  &\leq \sum_{i = 1}^{k}(x_{i} - x_{i-1}) \sup_{x \in [x_{i-1}, x_i]} (f_N(x) + \varepsilon) \\
				  &= \sum_{i = 1}^{k}(x_{i} - x_{i-1})\sup_{x \in [x_{i-1}, x_i]}f_N(x) + \sum_{i = 1}^{k}(x_{i} - x_{i-1}) \varepsilon \\
				  &= S(f_N, \mathcal{D}) + (b - a) \varepsilon.
	\end{align*}
	Similarly, $s(f, \mathcal{D}) \geq s(f_N, \mathcal{D} - (b - a) \varepsilon$, so
	\[
		S(f, \mathcal{D}) - s(f, \mathcal{D}) \leq S(f_N, \mathcal{D}) - s(f_N, \mathcal{D}) + 2(b - a)\varepsilon < (2(b - a) + 1)\varepsilon.
	.\]
	But this can be made arbitrarily small, so by Riemann's criterion, $f$ is integrable over $[a, b]$.

	Now for any $n$ sufficiently large such that $f_n - f$ is bounded,
	\begin{align*}
		\left| \int_{a}^{b} f_n - \int_{a}^{b}f \right| &= \left| \int_{a}^{b} (f_n - f) \right| \\
								&\leq \int_{a}^{b} |f_n - f| \\
								&\leq (b - a) \sup_{x \in [a, b]}|f_n(x) - f(x)| \to 0
	\end{align*}
	as $n \to \infty$ since $f_n \to f$ uniformly.
\end{adjustbox}

Unfortunately, uniform convergence cannot preserve all properties.

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
\begin{example}
	Take $f_n : [-1, 1] \to \mathbb{R}$, where each $f_n$ is differentiable and $f_n \to f$ uniformly, but $f$ is not differentiable. Take
	\[
		f_n = \sqrt{\left( \frac{1}{n} + x^2 \right)}
	.\]
	Then $f_n$ is differentiable, and also uniformly converges to $f(x) = |x|$. But $f$ is not differentiable.
\end{example}

\end{adjustbox}

In fact, we need uniform convergence of the \textbf{derivatives}.

\begin{theorem}
	Let $f_n : (u, v) \mapsto \mathbb{R}$ with $f_n \to f : (u, v) \to \mathbb{R}$ pointwise. Suppose further that each $f_n$ is continuously differentiable and that $f_n' \to g : (u, v) \to \mathbb{R}$ uniformly. Then $f$ is differentiable with $f' = g$.
\end{theorem}

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
	\textbf{Proof:} Fix $a \in (u, v)$. Let $x \in (u, v)$. By FTC, we have each $f_n'$ is integrable over $[a, x]$ and
	\[
		\int_{a}^{x}f_n' = f_n(x) - f_n(a)
	.\]
	But $f_n' \to g$ uniformly, so by theorem 5, $g$ is integrable over $[a, x]$ and
	\[
		\int_{a}^{x}g = \lim_{n \to \infty} \int_{a}^{x} f_n' (x) = f(x) - f(a)
	.\]
	So we have shown that for all $x \in (u, v)$,
	\[
		f(x) = f(a) + \int_{a}^{x} g
	.\]
	By theorem 4, $g$ is continuous so by FTC, $f$ is differentiable with $f' = g$.
\end{adjustbox}

\begin{remark}
	It would have sufficed to assume that $f_n(x) \to f(x)$ for a single value of $x$.
\end{remark}

\begin{definition}\index{uniformly Cauchy}
	Let $X \subset \mathbb{R}$ and let $f_n : X \to \mathbb{R}$ for each $n \geq 1$. We say $(f_n)$ is \textbf{uniformly Cauchy} if for all $\varepsilon > 0$, there exists $N$ such that for all $m, n \geq N$ and for all $x \in X$,
	\[
		|f_m(x) - f_n(x)| < \varepsilon
	.\]
\end{definition}
It is easy to show that a uniformly convergent sequence is uniformly Cauchy.

\begin{theorem}[General Principle of Uniform Convergence]\index{general principle of uniform convergence}
	Let $(f_n)$ be a uniformly Cauchy sequence of functions $X \to \mathbb{R}$. Then $(f_n)$ is uniformly convergent.
\end{theorem}

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
	\textbf{Proof:} Let $x \in X$, and $\varepsilon > 0$. Then there exists $N$, such that for all $m, n \geq N$ and for all $y \in X$, $|f_m(y) - f_n(y)| < \varepsilon$. In particular, $|f_m(x) - f_n(x)| < \varepsilon$, so $(f_n(x))$ is a Cauchy sequence in $\mathbb{R}$, so by GPC, it converges pointwise, say $f_n(x) \to f(x)$ as $n \to \infty$.

	Let $\varepsilon > 0$. Then we can find an $N$ such that for all $m, n \geq N$ and all $y \in X$, $|f_m(y) - f_n(y)| < \varepsilon$. Fixing $y, m$ and letting $n \to \infty$, $|f_m(y) - f(y)| \leq \varepsilon$. But since $y$ is arbitrary, this shows $f_n \to f$ uniformly.
\end{adjustbox}

We will also try to take Bolzano-Weierstrass over to the space of functions.

\begin{definition}
	Let $X \subset \mathbb{R}$ and let $f_n : X \to \mathbb{R}$ for each $n \geq 1$. We say $(f_n)$ is \textbf{pointwise bounded}\index{pointwise bounded} if for all $x$, there exists $M$ such that for all $n$, $|f_n(x)| \leq M$.

	We say $(f_n)$ is \textbf{uniformly bounded}\index{uniformly bounded} if there exists $M$, such that for all $x$ and $n$, $|f_n(x)| \leq M$.
\end{definition}

We would like a uniform Bolzano-Weierstrass, saying if $(f_n)$ is a uniformly bounded sequence of functions, then it has a uniformly convergent subsequence. But this is not true.

\begin{adjustbox}{minipage = \columnwidth - 25.5pt, margin=1em, frame=1pt, margin=0em}
\begin{example}
	Take $f_n : \mathbb{R} \to \mathbb{R}$, 
	\[
		f_n(x) =
		\begin{cases}
			1 & x = n,\\
			0 & x \neq n
		\end{cases}
	.\]
	Then $(f_n)$ is uniformly bounded, but if $m \neq n$, then $f_m(m) = 1$ and $f_n(m) = 0$, so $|f_m(m) - f_n(m)| = 1$, hence $(f_n)$ are not uniformly Cauchy, so cannot be uniformly convergent.
\end{example}

\end{adjustbox}

We look at previous proofs we have done. Recall that if $\sum a_n x^{n}$ is a real power of series with radius of convergence $R > 0$, then we can differentiate and integrate it term-by-term within $(-R, R)$.

\begin{definition}
	Let $f_n : X \to \mathbb{R}$ for each $n \geq 0$. We say that the series
	\[
	\sum_{n = 0}^{\infty}f_n
	\]
	\textbf{converges uniformly} if the sequence of partial sums $(F_n)$ does, where $F_n = f_0 + f_1 + \cdots + f_n$.
\end{definition}

If we can prove that $\sum a_n x^{n}$ is uniformly convergent, then we can apply earlier theorems to show differentiability. However this is not quite true, for example take
\[
\sum_{n = 0}^{\infty} x^{n}
.\]

However, we do have another approach. We can show that if $0 < r < R$, then we do have uniform convergence on $(-r, r)$, and then given $x \in (-R, R)$, we can choose $|x| < r < R$ and use the above to show all the properties we want. This is known as the \textbf{local uniform convergence of power series}.\index{local uniform convergence of power series}

\newpage

\printindex

\end{document}
